import{Q as b,T as V,h,k as A,o as n,f as i,b as e,a as r,t as _,u as o,g as x,w as g,m as F,e as w,n as k,y as q,H as B,c as N,F as R,Z as M,d as S,l as D,j as W}from"./app-7f2789ba.js";import{a as j,_ as T}from"./AuthenticatedLayout-42ccd359.js";import{_ as E}from"./PrimaryButton-71d935c5.js";import{u as C,i as O}from"./sweetalert2.all-328b9d25.js";import{_ as U,a as z,b as G}from"./TextInput-9cf3efd7.js";import"./ApplicationLogo-09c8b747.js";import"./_plugin-vue_export-helper-c27b6911.js";const Q={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},H=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),L={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Z={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},I={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},J={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},K={class:"sm:flex sm:items-start"},X={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10"},Y=e("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[e("h3",{class:"text-base font-semibold leading-6 text-gray-900",id:"modal-title"}," Request withdrawal "),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Please review the details below before sending the invitation. Once invited, your new employee will be granted the selected roles. This action cannot be undone! ")])],-1),ee={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},te={class:"text-red-800 text-sm"},se={id:"fundsRequestForm",class:"space-y-6",action:"#",method:"POST"},ae={class:"mt-3 text-center sm:text-left"},oe=e("span",{class:"font-semibold leading-6 text-gray-400 text-sm"}," Balance (USD): ",-1),re={class:"font-semibold leading-6 text-gray-800 text-sm ml-2"},ne={key:0,class:"font-semibold leading-6 text-red-800 text-sm mt-2"},le={class:"mt-2"},ie=e("div",null,null,-1),de={class:"flex items-center gap-4"},ce={key:0,class:"text-sm text-gray-600"},ue={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},me=["onClick","disabled"],_e={__name:"RequestFunds",props:{allPositions:Array},setup(c){const f=b().props.auth.user,u=b().props.userBalance,p=C(),s=V({amount:"",request_sent_by:f.user_id}),m=h(()=>!(!s.amount||Number(s.amount)<0||Number(s.amount)>u)),v=()=>{if(s.processing||!m)return;(document.querySelector("#fundsRequestForm")??!1)&&s.post(route("withdrawal_requests.store"),{onSuccess:()=>{}})};return A(()=>{O()}),(y,t)=>(n(),i("div",Q,[H,e("div",L,[e("div",Z,[e("div",I,[e("div",J,[e("div",K,[e("div",X,[r(j)]),Y]),e("div",ee,[e("p",te,_(o(s).errors.amount)+" "+_(o(s).errors.general),1),e("form",se,[e("div",ae,[oe,e("span",re,_(y.$page.props.userBalance),1),m.value?x("",!0):(n(),i("div",ne," Please enter a valid amount "))]),e("div",null,[r(U,{class:"block text-sm font-medium leading-6 text-gray-900",for:"Amount",value:"Amount"}),e("div",le,[r(z,{id:"Amount",type:"number",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",modelValue:o(s).amount,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).amount=a),required:""},null,8,["modelValue"])]),r(G,{class:"mt-2",message:o(s).errors.amount},null,8,["message"])]),ie,e("div",de,[r(F,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:g(()=>[o(s).recentlySuccessful?(n(),i("p",ce," Request sent ")):x("",!0)]),_:1})])])])]),e("div",ue,[e("button",{onClick:w(v,["prevent"]),disabled:!m.value||o(s).processing,type:"button",class:k(["inline-flex w-full justify-center rounded-md bg-gray-800 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 sm:ml-3 sm:w-auto",{"hover:cursor-not-allowed":!m.value||o(s).processing}])}," Send request ",10,me),e("button",{onClick:t[1]||(t[1]=w((...a)=>o(p).closeModal&&o(p).closeModal(...a),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])]))}},fe=e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),he=e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ge={id:"SVGRepo_iconCarrier"},xe=["stroke"],pe=["stroke"],ye={__name:"user",props:{fill:{type:String,default:"#333"},w_class:{type:String,default:"w-[25px]"},h_class:{type:String,default:"h-[25px]"}},setup(c){return(f,u)=>(n(),i("svg",{class:k([c.w_class,c.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[fe,he,e("g",ge,[e("circle",{cx:"12",cy:"6",r:"4",stroke:c.fill,"stroke-width":"1.5"},null,8,xe),e("path",{d:"M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634",stroke:c.fill,"stroke-width":"1.5","stroke-linecap":"round"},null,8,pe)])],2))}};const ve=e("div",{class:"flex items-center space-x-4"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Withdrawals ")],-1),be={class:"my-16"},we={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-14"},ke={key:0,class:"mb-4"},$e=e("div",{class:"clear-both"},null,-1),qe={class:"rounded-lg"},Re={key:0,class:"grid grid-cols-1 gap-4"},Se={class:"rounded-xl border p-5 shadow-md w-10/12 bg-white"},je={class:"flex w-full items-center justify-between mb-6"},Ce={class:"flex items-center space-x-3"},Pe={class:"h-8 w-8 rounded-full flex items-center justify-center shadow-lg"},Ve={class:"text-lg font-bold text-slate-700"},Ae={class:"flex items-center justify-center space-x-4"},Fe={class:"text-base text-neutral-500 inline-flex items-center"},Be={class:"flex items-center justify-between text-slate-500"},Ne={class:"flex space-x-4 md:space-x-8"},Me=e("span",{class:"middle none center rounded-lg border border-cyan-800 py-1.5 px-3 font-sans text-xs font-bold uppercase text-cyan-500 transition-all hover:opacity-75 focus:ring focus:ring-cyan-200 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-dark":"true"}," View transaction ",-1),De={class:"my-8"},We={class:"flex float-right"},Te=["href"],Ee=["href"],Oe=e("div",{class:"clear-both"},null,-1),Ie={__name:"withdrawals",props:{allWithdrawals:Object},setup(c){const f=C(),u=c,p=b().props.isEmployeeAnAttorney;q(""),q([]);const s=B({addRole:null});h(()=>{const t=u.users_and_employees;if(s.addRole===null)return t;for(const a in s.addRole)if(Object.hasOwnProperty.call(s.addRole,a)){const d=s.addRole[a];t[a]=d}return t});const m=h(()=>{var t;return((t=u.allWithdrawals)==null?void 0:t.data)??[]}),v=h(()=>{var a;let t=((a=u.allWithdrawals)==null?void 0:a.links)??!1;return t&&(t=t.find(d=>d.label=="Next &raquo;")),t}),y=h(()=>{var a;let t=((a=u.allWithdrawals)==null?void 0:a.links)??!1;return t&&(t=t.find(d=>d.label=="&laquo; Previous")),t});return(t,a)=>(n(),i(R,null,[o(f).currentModal==="REQUEST_FUNDS"?(n(),N(_e,{key:0})):x("",!0),r(o(M),{title:"Withdrawals"}),r(T,null,{header:g(()=>[ve]),default:g(()=>{var d,$;return[e("div",be,[e("div",we,[o(p)?x("",!0):(n(),i("div",ke,[r(E,{onClick:a[0]||(a[0]=w(l=>o(f).openRequestFundsModal(),["prevent"])),type:"button",class:"mx-2 float-right"},{default:g(()=>[S("request funds")]),_:1}),$e])),e("div",qe,[m.value.length>0?(n(),i("div",Re,[(n(!0),i(R,null,D(m.value,(l,P)=>(n(),i("div",{class:"flex items-center justify-center mb-4",key:P},[e("div",Se,[e("div",je,[e("div",Ce,[e("div",Pe,[r(ye,{w_class:"w-5",h_class:"h-5"})]),e("div",Ve,_(l.user_email),1)]),e("div",Ae,[e("div",Fe,[r(j,{class:"mr-1"}),S(" "+_(l.withdrawal_request_amount),1)]),e("div",{class:k(["rounded-2xl border bg-neutral-100 px-2 py-1 text-xs font-semibold uppercase",{"text-amber-500":l.withdrawal_request_status=="pending","text-red-700":l.withdrawal_request_status=="failed"||l.withdrawal_request_status=="rejected","text-green-700":l.withdrawal_request_status=="success"}])},_(l.withdrawal_request_status),3)])]),e("div",null,[e("div",Be,[e("div",Ne,[r(o(W),{href:t.route("withdrawal_requests.show",l.withdrawal_request_link_id),class:"flex cursor-pointer items-center transition hover:text-slate-600"},{default:g(()=>[Me]),_:2},1032,["href"])])])])])]))),128))])):x("",!0),e("div",De,[e("div",We,[e("a",{href:((d=y.value)==null?void 0:d.url)??"#",class:"flex items-center justify-center px-4 h-10 text-base font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Previous ",8,Te),e("a",{href:(($=v.value)==null?void 0:$.url)??"#",class:"flex items-center justify-center px-4 h-10 ms-3 text-base font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Next ",8,Ee)]),Oe])])])])]}),_:1})],64))}};export{Ie as default};
