import{o as v,f as _,b as o,n as M,Q as le,T as pe,m as K,a as b,u as h,i as H,p as We,F as V,l as B,w as D,g as j,q as ve,e as U,v as Qe,k as Ye,r as Je,s as Xe,x as ue,y as Re,z as Ae,A as S,B as oe,h as P,C as Q,D as W,E as Ze,G as F,H as q,I as me,d as N,t as C,c as z,J as ge,K as De,L as de,Z as et,j as tt,M as lt}from"./app-e664243e.js";import{a as te,_ as ot,b as st}from"./AuthenticatedLayout-850d04dc.js";import{_ as xe}from"./PrimaryButton-5191b921.js";import{_ as nt}from"./employee_icon-eeda2707.js";import{_ as it}from"./gift-5eb20a4a.js";import{u as se,i as _e,S as Ie}from"./sweetalert2.all-3a9d8148.js";import{_ as at}from"./TextInput-c484e117.js";import{_ as ie,a as ae}from"./InputLabel-7ced669e.js";import{N as rt}from"./notice_icon-83523e86.js";import{_ as ut}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as we,a as $e,b as ke,c as ce,d as Se}from"./QuillSliverPen-d0692900.js";import"./ApplicationLogo-96ca07fe.js";const dt=o("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),ct=o("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ft={id:"SVGRepo_iconCarrier"},pt=["stroke"],vt={__name:"suitcase_icon",props:{fill:{type:String,default:"#982069"},w_class:{type:String,default:"w-[15px]"},h_class:{type:String,default:"h-[15px]"}},setup(e){return(l,s)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[dt,ct,o("g",ft,[o("path",{d:"M9 7H5C3.89543 7 3 7.89543 3 9V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V9C21 7.89543 20.1046 7 19 7H15M9 7V5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7M9 7H15",stroke:e.fill,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,pt)])],2))}},mt={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},gt=o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),_t={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},bt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ht={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},yt={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},xt={class:"sm:flex sm:items-start"},wt=o("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[o("h3",{class:"text-base font-semibold leading-6 text-gray-900",id:"modal-title"}," Invite an employee to the platform "),o("div",{class:"mt-2"},[o("p",{class:"text-sm text-gray-500"}," Please review the details below before sending the invitation. Once invited, your new employee will be granted the selected roles. This action cannot be undone! ")])],-1),$t={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},kt={id:"newInviteForm",class:"space-y-6",action:"#",method:"POST"},St={class:"mt-2"},Ot={class:"mt-2"},Et=Ye('<option value="10">10 days</option><option value="20">20 days</option><option value="40">40 days</option><option value="60">60 days</option><option value="90">90 days</option>',5),Ct=[Et],jt=o("label",{for:"position_checkbox",class:"block text-sm mb-2 font-medium leading-6 text-gray-900"},"Role(s) to be assigned",-1),Pt={class:"grid grid-cols-3 gap-2"},Lt=["id","value"],Rt={class:"flex items-center gap-4"},At={key:0,class:"text-sm text-gray-600"},Dt={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},It=["onClick","disabled"],Tt={__name:"NewEmployeeInvite",props:{allPositions:Array},setup(e){const l=le().props.auth.user,s=se(),n=pe({invite_email:"",invite_status:"pending",positions_assigned:[],invite_sent_by:l.user_id,days_before_withdrawal_eligibility:10}),t=()=>{if(n.processing)return;(document.querySelector("#newInviteForm")??!1)&&n.post(route("invite.store"),{onSuccess:()=>n.reset()})};return K(()=>{_e()}),(i,a)=>(v(),_("div",mt,[gt,o("div",_t,[o("div",bt,[o("div",ht,[o("div",yt,[o("div",xt,[b(rt),wt]),o("div",$t,[o("form",kt,[o("div",null,[b(ie,{class:"block text-sm font-medium leading-6 text-gray-900",for:"email_employee",value:"Employee Email address"}),o("div",St,[b(at,{id:"email_employee",type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",modelValue:h(n).invite_email,"onUpdate:modelValue":a[0]||(a[0]=r=>h(n).invite_email=r),required:""},null,8,["modelValue"])]),b(ae,{class:"mt-2",message:h(n).errors.invite_email},null,8,["message"])]),o("div",null,[b(ie,{class:"block text-sm font-medium leading-6 text-gray-900",for:"days_before_withdrawal_eligibility",value:"Date before first fund withdrawal can be made"}),o("div",Ot,[H(o("select",{id:"days_before_withdrawal_eligibility",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",required:"","onUpdate:modelValue":a[1]||(a[1]=r=>h(n).days_before_withdrawal_eligibility=r)},Ct,512),[[We,h(n).days_before_withdrawal_eligibility]])]),b(ae,{class:"mt-2",message:h(n).errors.days_before_withdrawal_eligibility},null,8,["message"])]),o("div",null,[o("fieldset",null,[jt,o("div",Pt,[(v(!0),_(V,null,B(e.allPositions,(r,g)=>(v(),_("div",{key:g,class:"flex items-center mb-1"},[H(o("input",{id:"checkbox"+g,type:"checkbox",value:r.position_id,"onUpdate:modelValue":a[2]||(a[2]=u=>h(n).positions_assigned=u),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Lt),[[Qe,h(n).positions_assigned]]),b(ie,{class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"checkbox"+g,value:r.position_name},null,8,["for","value"])]))),128))]),b(ae,{class:"mt-2",message:h(n).errors.positions_assigned},null,8,["message"])])]),o("div",Rt,[b(ve,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:D(()=>[h(n).recentlySuccessful?(v(),_("p",At," Employee invited ")):j("",!0)]),_:1})])])])]),o("div",Dt,[o("button",{onClick:U(t,["prevent"]),disabled:h(n).processing,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gray-800 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 sm:ml-3 sm:w-auto"}," Send Invite ",8,It),o("button",{onClick:a[3]||(a[3]=U((...r)=>h(s).closeModal&&h(s).closeModal(...r),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])]))}},Mt={},Vt={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ft=o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Nt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"};function Gt(e,l){return v(),_("div",Vt,[Ft,o("div",Nt,[Je(e.$slots,"default")])])}const Te=ut(Mt,[["render",Gt]]);function G(e,l,...s){if(e in l){let t=l[e];return typeof t=="function"?t(...s):t}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(l).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,G),n}var fe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fe||{}),Ut=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ut||{});function Y({visible:e=!0,features:l=0,ourProps:s,theirProps:n,...t}){var i;let a=Ve(n,s),r=Object.assign(t,{props:a});if(e||l&2&&a.static)return re(r);if(l&1){let g=(i=a.unmount)==null||i?0:1;return G(g,{0(){return null},1(){return re({...t,props:{...a,hidden:!0,style:{display:"none"}}})}})}return re(r)}function re({props:e,attrs:l,slots:s,slot:n,name:t}){var i,a;let{as:r,...g}=Fe(e,["unmount","static"]),u=(i=s.default)==null?void 0:i.call(s,n),d={};if(n){let k=!1,x=[];for(let[y,c]of Object.entries(n))typeof c=="boolean"&&(k=!0),c===!0&&x.push(y);k&&(d["data-headlessui-state"]=x.join(" "))}if(r==="template"){if(u=Me(u??[]),Object.keys(g).length>0||Object.keys(l).length>0){let[k,...x]=u??[];if(!zt(k)||x.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(g).concat(Object.keys(l)).map(w=>w.trim()).filter((w,O,p)=>p.indexOf(w)===O).sort((w,O)=>w.localeCompare(O)).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let y=Ve((a=k.props)!=null?a:{},g),c=Xe(k,y);for(let w in y)w.startsWith("on")&&(c.props||(c.props={}),c.props[w]=y[w]);return c}return Array.isArray(u)&&u.length===1?u[0]:u}return ue(r,Object.assign({},g,d),{default:()=>u})}function Me(e){return e.flatMap(l=>l.type===V?Me(l.children):[l])}function Ve(...e){if(e.length===0)return{};if(e.length===1)return e[0];let l={},s={};for(let n of e)for(let t in n)t.startsWith("on")&&typeof n[t]=="function"?(s[t]!=null||(s[t]=[]),s[t].push(n[t])):l[t]=n[t];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(s).map(n=>[n,void 0])));for(let n in s)Object.assign(l,{[n](t,...i){let a=s[n];for(let r of a){if(t instanceof Event&&t.defaultPrevented)return;r(t,...i)}}});return l}function Bt(e){let l=Object.assign({},e);for(let s in l)l[s]===void 0&&delete l[s];return l}function Fe(e,l=[]){let s=Object.assign({},e);for(let n of l)n in s&&delete s[n];return s}function zt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ht=0;function qt(){return++Ht}function ne(){return qt()}var A=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(A||{});function Kt(e){throw new Error("Unexpected object: "+e)}var I=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(I||{});function Wt(e,l){let s=l.resolveItems();if(s.length<=0)return null;let n=l.resolveActiveIndex(),t=n??-1,i=(()=>{switch(e.focus){case 0:return s.findIndex(a=>!l.resolveDisabled(a));case 1:{let a=s.slice().reverse().findIndex((r,g,u)=>t!==-1&&u.length-g-1>=t?!1:!l.resolveDisabled(r));return a===-1?a:s.length-1-a}case 2:return s.findIndex((a,r)=>r<=t?!1:!l.resolveDisabled(a));case 3:{let a=s.slice().reverse().findIndex(r=>!l.resolveDisabled(r));return a===-1?a:s.length-1-a}case 4:return s.findIndex(a=>l.resolveId(a)===e.id);case 5:return null;default:Kt(e)}})();return i===-1?n:i}function R(e){var l;return e==null||e.value==null?null:(l=e.value.$el)!=null?l:e.value}let Ne=Symbol("Context");var X=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(X||{});function Qt(){return Re(Ne,null)}function Yt(e){Ae(Ne,e)}function Oe(e,l){if(e)return e;let s=l??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function Jt(e,l){let s=S(Oe(e.value.type,e.value.as));return K(()=>{s.value=Oe(e.value.type,e.value.as)}),oe(()=>{var n;s.value||R(l)&&R(l)instanceof HTMLButtonElement&&!((n=R(l))!=null&&n.hasAttribute("type"))&&(s.value="button")}),s}var Xt=Object.defineProperty,Zt=(e,l,s)=>l in e?Xt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[l]=s,Ee=(e,l,s)=>(Zt(e,typeof l!="symbol"?l+"":l,s),s);class el{constructor(){Ee(this,"current",this.detect()),Ee(this,"currentId",0)}set(l){this.current!==l&&(this.currentId=0,this.current=l)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let be=new el;function tl(e){if(be.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let l=R(e);if(l)return l.ownerDocument}return document}let Ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ll=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ll||{}),ol=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ol||{}),sl=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(sl||{}),he=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(he||{});function Ge(e,l=0){var s;return e===((s=tl(e))==null?void 0:s.body)?!1:G(l,{0(){return e.matches(Ce)},1(){let n=e;for(;n!==null;){if(n.matches(Ce))return!0;n=n.parentElement}return!1}})}var nl=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(nl||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function il(e,l=s=>s){return e.slice().sort((s,n)=>{let t=l(s),i=l(n);if(t===null||i===null)return 0;let a=t.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ee(e,l,s){be.isServer||oe(n=>{document.addEventListener(e,l,s),n(()=>document.removeEventListener(e,l,s))})}function al(e,l,s){be.isServer||oe(n=>{window.addEventListener(e,l,s),n(()=>window.removeEventListener(e,l,s))})}function rl(e,l,s=P(()=>!0)){function n(i,a){if(!s.value||i.defaultPrevented)return;let r=a(i);if(r===null||!r.getRootNode().contains(r))return;let g=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let u of g){if(u===null)continue;let d=u instanceof HTMLElement?u:R(u);if(d!=null&&d.contains(r)||i.composed&&i.composedPath().includes(d))return}return!Ge(r,he.Loose)&&r.tabIndex!==-1&&i.preventDefault(),l(i,r)}let t=S(null);ee("pointerdown",i=>{var a,r;s.value&&(t.value=((r=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:r[0])||i.target)},!0),ee("mousedown",i=>{var a,r;s.value&&(t.value=((r=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:r[0])||i.target)},!0),ee("click",i=>{t.value&&(n(i,()=>t.value),t.value=null)},!0),ee("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),al("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Ue=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ue||{});let ul=Q({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:s}){return()=>{let{features:n,...t}=e,i={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Y({ourProps:i,theirProps:t,slot:{},attrs:s,slots:l,name:"Hidden"})}}});function Be(e={},l=null,s=[]){for(let[n,t]of Object.entries(e))He(s,ze(l,n),t);return s}function ze(e,l){return e?e+"["+l+"]":l}function He(e,l,s){if(Array.isArray(s))for(let[n,t]of s.entries())He(e,ze(l,n.toString()),t);else s instanceof Date?e.push([l,s.toISOString()]):typeof s=="boolean"?e.push([l,s?"1":"0"]):typeof s=="string"?e.push([l,s]):typeof s=="number"?e.push([l,`${s}`]):s==null?e.push([l,""]):Be(s,l,e)}function dl(e,l,s){let n=S(s==null?void 0:s.value),t=P(()=>e.value!==void 0);return[P(()=>t.value?e.value:n.value),function(i){return t.value||(n.value=i),l==null?void 0:l(i)}]}function je(e){return[e.screenX,e.screenY]}function cl(){let e=S([-1,-1]);return{wasMoved(l){let s=je(l);return e.value[0]===s[0]&&e.value[1]===s[1]?!1:(e.value=s,!0)},update(l){e.value=je(l)}}}let Pe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Le(e){var l,s;let n=(l=e.innerText)!=null?l:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let i=!1;for(let r of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))r.remove(),i=!0;let a=i?(s=t.innerText)!=null?s:"":n;return Pe.test(a)&&(a=a.replace(Pe,"")),a}function fl(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let s=e.getAttribute("aria-labelledby");if(s){let n=s.split(" ").map(t=>{let i=document.getElementById(t);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():Le(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Le(e).trim()}function pl(e){let l=S(""),s=S("");return()=>{let n=R(e);if(!n)return"";let t=n.innerText;if(l.value===t)return s.value;let i=fl(n).trim().toLowerCase();return l.value=t,s.value=i,i}}function vl(e,l){return e===l}var ml=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ml||{}),gl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(gl||{}),_l=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(_l||{});function bl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let qe=Symbol("ListboxContext");function Z(e){let l=Re(qe,null);if(l===null){let s=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Z),s}return l}let hl=Q({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>vl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:s,emit:n}){let t=S(1),i=S(null),a=S(null),r=S(null),g=S([]),u=S(""),d=S(null),k=S(1);function x(f=$=>$){let $=d.value!==null?g.value[d.value]:null,E=il(f(g.value.slice()),T=>R(T.dataRef.domRef)),L=$?E.indexOf($):null;return L===-1&&(L=null),{options:E,activeOptionIndex:L}}let y=P(()=>e.multiple?1:0),[c,w]=dl(P(()=>e.modelValue),f=>n("update:modelValue",f),P(()=>e.defaultValue)),O=P(()=>c.value===void 0?G(y.value,{1:[],0:void 0}):c.value),p={listboxState:t,value:O,mode:y,compare(f,$){if(typeof e.by=="string"){let E=e.by;return(f==null?void 0:f[E])===($==null?void 0:$[E])}return e.by(f,$)},orientation:P(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:a,optionsRef:r,disabled:P(()=>e.disabled),options:g,searchQuery:u,activeOptionIndex:d,activationTrigger:k,closeListbox(){e.disabled||t.value!==1&&(t.value=1,d.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(f,$,E){if(e.disabled||t.value===1)return;let L=x(),T=Wt(f===I.Specific?{focus:I.Specific,id:$}:{focus:f},{resolveItems:()=>L.options,resolveActiveIndex:()=>L.activeOptionIndex,resolveId:J=>J.id,resolveDisabled:J=>J.dataRef.disabled});u.value="",d.value=T,k.value=E??1,g.value=L.options},search(f){if(e.disabled||t.value===1)return;let $=u.value!==""?0:1;u.value+=f.toLowerCase();let E=(d.value!==null?g.value.slice(d.value+$).concat(g.value.slice(0,d.value+$)):g.value).find(T=>T.dataRef.textValue.startsWith(u.value)&&!T.dataRef.disabled),L=E?g.value.indexOf(E):-1;L===-1||L===d.value||(d.value=L,k.value=1)},clearSearch(){e.disabled||t.value!==1&&u.value!==""&&(u.value="")},registerOption(f,$){let E=x(L=>[...L,{id:f,dataRef:$}]);g.value=E.options,d.value=E.activeOptionIndex},unregisterOption(f){let $=x(E=>{let L=E.findIndex(T=>T.id===f);return L!==-1&&E.splice(L,1),E});g.value=$.options,d.value=$.activeOptionIndex,k.value=1},theirOnChange(f){e.disabled||w(f)},select(f){e.disabled||w(G(y.value,{0:()=>f,1:()=>{let $=F(p.value.value).slice(),E=F(f),L=$.findIndex(T=>p.compare(E,F(T)));return L===-1?$.push(E):$.splice(L,1),$}}))}};rl([a,r],(f,$)=>{var E;p.closeListbox(),Ge($,he.Loose)||(f.preventDefault(),(E=R(a))==null||E.focus())},P(()=>t.value===0)),Ae(qe,p),Yt(P(()=>G(t.value,{0:X.Open,1:X.Closed})));let m=P(()=>{var f;return(f=R(a))==null?void 0:f.closest("form")});return K(()=>{W([m],()=>{if(!m.value||e.defaultValue===void 0)return;function f(){p.theirOnChange(e.defaultValue)}return m.value.addEventListener("reset",f),()=>{var $;($=m.value)==null||$.removeEventListener("reset",f)}},{immediate:!0})}),()=>{let{name:f,modelValue:$,disabled:E,form:L,...T}=e,J={open:t.value===0,disabled:E,value:O.value};return ue(V,[...f!=null&&O.value!=null?Be({[f]:O.value}).map(([ye,Ke])=>ue(ul,Bt({features:Ue.Hidden,key:ye,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:L,name:ye,value:Ke}))):[],Y({ourProps:{},theirProps:{...s,...Fe(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:J,slots:l,attrs:s,name:"Listbox"})])}}}),yl=Q({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-listbox-label-${ne()}`}},setup(e,{attrs:l,slots:s}){let n=Z("ListboxLabel");function t(){var i;(i=R(n.buttonRef))==null||i.focus({preventScroll:!0})}return()=>{let i={open:n.listboxState.value===0,disabled:n.disabled.value},{id:a,...r}=e,g={id:a,ref:n.labelRef,onClick:t};return Y({ourProps:g,theirProps:r,slot:i,attrs:l,slots:s,name:"ListboxLabel"})}}}),xl=Q({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${ne()}`}},setup(e,{attrs:l,slots:s,expose:n}){let t=Z("ListboxButton");n({el:t.buttonRef,$el:t.buttonRef});function i(u){switch(u.key){case A.Space:case A.Enter:case A.ArrowDown:u.preventDefault(),t.openListbox(),q(()=>{var d;(d=R(t.optionsRef))==null||d.focus({preventScroll:!0}),t.value.value||t.goToOption(I.First)});break;case A.ArrowUp:u.preventDefault(),t.openListbox(),q(()=>{var d;(d=R(t.optionsRef))==null||d.focus({preventScroll:!0}),t.value.value||t.goToOption(I.Last)});break}}function a(u){switch(u.key){case A.Space:u.preventDefault();break}}function r(u){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),q(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(u.preventDefault(),t.openListbox(),bl(()=>{var d;return(d=R(t.optionsRef))==null?void 0:d.focus({preventScroll:!0})})))}let g=Jt(P(()=>({as:e.as,type:l.type})),t.buttonRef);return()=>{var u,d;let k={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{id:x,...y}=e,c={ref:t.buttonRef,id:x,type:g.value,"aria-haspopup":"listbox","aria-controls":(u=R(t.optionsRef))==null?void 0:u.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(d=R(t.labelRef))==null?void 0:d.id,x].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:a,onClick:r};return Y({ourProps:c,theirProps:y,slot:k,attrs:l,slots:s,name:"ListboxButton"})}}}),wl=Q({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${ne()}`}},setup(e,{attrs:l,slots:s,expose:n}){let t=Z("ListboxOptions"),i=S(null);n({el:t.optionsRef,$el:t.optionsRef});function a(u){switch(i.value&&clearTimeout(i.value),u.key){case A.Space:if(t.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),t.search(u.key);case A.Enter:if(u.preventDefault(),u.stopPropagation(),t.activeOptionIndex.value!==null){let d=t.options.value[t.activeOptionIndex.value];t.select(d.dataRef.value)}t.mode.value===0&&(t.closeListbox(),q(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})}));break;case G(t.orientation.value,{vertical:A.ArrowDown,horizontal:A.ArrowRight}):return u.preventDefault(),u.stopPropagation(),t.goToOption(I.Next);case G(t.orientation.value,{vertical:A.ArrowUp,horizontal:A.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),t.goToOption(I.Previous);case A.Home:case A.PageUp:return u.preventDefault(),u.stopPropagation(),t.goToOption(I.First);case A.End:case A.PageDown:return u.preventDefault(),u.stopPropagation(),t.goToOption(I.Last);case A.Escape:u.preventDefault(),u.stopPropagation(),t.closeListbox(),q(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case A.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(t.search(u.key),i.value=setTimeout(()=>t.clearSearch(),350));break}}let r=Qt(),g=P(()=>r!==null?(r.value&X.Open)===X.Open:t.listboxState.value===0);return()=>{var u,d,k,x;let y={open:t.listboxState.value===0},{id:c,...w}=e,O={"aria-activedescendant":t.activeOptionIndex.value===null||(u=t.options.value[t.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(x=(d=R(t.labelRef))==null?void 0:d.id)!=null?x:(k=R(t.buttonRef))==null?void 0:k.id,"aria-orientation":t.orientation.value,id:c,onKeydown:a,role:"listbox",tabIndex:0,ref:t.optionsRef};return Y({ourProps:O,theirProps:w,slot:y,attrs:l,slots:s,features:fe.RenderStrategy|fe.Static,visible:g.value,name:"ListboxOptions"})}}}),$l=Q({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${ne()}`}},setup(e,{slots:l,attrs:s,expose:n}){let t=Z("ListboxOption"),i=S(null);n({el:i,$el:i});let a=P(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===e.id:!1),r=P(()=>G(t.mode.value,{0:()=>t.compare(F(t.value.value),F(e.value)),1:()=>F(t.value.value).some(p=>t.compare(F(p),F(e.value)))})),g=P(()=>G(t.mode.value,{1:()=>{var p;let m=F(t.value.value);return((p=t.options.value.find(f=>m.some($=>t.compare(F($),F(f.dataRef.value)))))==null?void 0:p.id)===e.id},0:()=>r.value})),u=pl(i),d=P(()=>({disabled:e.disabled,value:e.value,get textValue(){return u()},domRef:i}));K(()=>t.registerOption(e.id,d)),Ze(()=>t.unregisterOption(e.id)),K(()=>{W([t.listboxState,r],()=>{t.listboxState.value===0&&r.value&&G(t.mode.value,{1:()=>{g.value&&t.goToOption(I.Specific,e.id)},0:()=>{t.goToOption(I.Specific,e.id)}})},{immediate:!0})}),oe(()=>{t.listboxState.value===0&&a.value&&t.activationTrigger.value!==0&&q(()=>{var p,m;return(m=(p=R(i))==null?void 0:p.scrollIntoView)==null?void 0:m.call(p,{block:"nearest"})})});function k(p){if(e.disabled)return p.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),q(()=>{var m;return(m=R(t.buttonRef))==null?void 0:m.focus({preventScroll:!0})}))}function x(){if(e.disabled)return t.goToOption(I.Nothing);t.goToOption(I.Specific,e.id)}let y=cl();function c(p){y.update(p)}function w(p){y.wasMoved(p)&&(e.disabled||a.value||t.goToOption(I.Specific,e.id,0))}function O(p){y.wasMoved(p)&&(e.disabled||a.value&&t.goToOption(I.Nothing))}return()=>{let{disabled:p}=e,m={active:a.value,selected:r.value,disabled:p},{id:f,value:$,disabled:E,...L}=e,T={id:f,ref:i,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":r.value,disabled:void 0,onClick:k,onFocus:x,onPointerenter:c,onMouseenter:c,onPointermove:w,onMousemove:w,onPointerleave:O,onMouseleave:O};return Y({ourProps:T,theirProps:L,slot:m,attrs:s,slots:l,name:"ListboxOption"})}}});function kl(e,l){return v(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function Sl(e,l){return v(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])}const Ol={class:"w-full"},El=o("div",{class:"clear-both"},null,-1),Cl={class:"relative mt-1"},jl={key:0,class:"block truncate"},Pl={key:1},Ll={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Rl={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Al={__name:"SendGiftUserSelect",props:{allUsers:{type:Object,required:!0}},emits:["selectedEmployeesChanged"],setup(e,{emit:l}){const s=e,n=l,t=S([]),i=S([]);return W(i,a=>{n("selectedEmployeesChanged",a)}),me(()=>{t.value=s.allUsers}),(a,r)=>(v(),_("div",Ol,[b(h(hl),{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=g=>i.value=g),multiple:""},{default:D(()=>[b(h(yl),{class:"text-xs underline decoration-dotted underline-offset-4 float-right mb-1"},{default:D(()=>[N("Add employees to the group:")]),_:1}),El,o("div",Cl,[b(h(xl),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left border border-1 shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:D(()=>[i.value.length>0?(v(),_("span",jl,C(i.value.map(g=>g.user_fullname).join(", ")),1)):(v(),_("span",Pl," Please select an employee ")),o("span",Ll,[b(h(Sl),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),b(ve,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:D(()=>[b(h(wl),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:D(()=>[(v(!0),_(V,null,B(t.value,g=>(v(),z(h($l),{key:g.employee_id,value:g,as:"template"},{default:D(({active:u,selected:d})=>[o("li",{class:M([u?"bg-amber-100 text-amber-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[o("span",{class:M([d?"font-medium":"font-normal","block truncate"])},C(g.user_fullname),3),d?(v(),_("span",Rl,[b(h(kl),{class:"h-5 w-5","aria-hidden":"true"})])):j("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])]))}},Dl=o("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),Il=o("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Tl={id:"SVGRepo_iconCarrier"},Ml=o("title",null,null,-1),Vl={id:"Complete"},Fl={"data-name":"add",id:"add-2"},Nl=["stroke"],Gl=["stroke"],Ul={__name:"Add",props:{fill:{type:String,default:"#000000"},w_class:{type:String,default:"w-[20px]"},h_class:{type:String,default:"h-[20px]"}},setup(e){return(l,s)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000000"},[Dl,Il,o("g",Tl,[Ml,o("g",Vl,[o("g",Fl,[o("g",null,[o("line",{fill:"none",stroke:e.fill,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12",x2:"12",y1:"19",y2:"5"},null,8,Nl),o("line",{fill:"none",stroke:e.fill,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"5",x2:"19",y1:"12",y2:"12"},null,8,Gl)])])])])],2))}},Bl=o("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),zl=o("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Hl=o("g",{id:"SVGRepo_iconCarrier"},[o("path",{d:"M6 12L18 12",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ql=[Bl,zl,Hl],Kl={__name:"Minus",props:{fill:{type:String,default:"#a0785a"},w_class:{type:String,default:"w-[20px]"},h_class:{type:String,default:"h-[20px]"}},setup(e){return(l,s)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ql,2))}},Wl={class:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"},Ql={class:"pt-0 pr-4 pb-0 pl-4 mt-0 mr-auto mb-0 ml-auto w-[600px] max-w-4xl sm:px-6 lg:px-8"},Yl={class:"bg-white shadow-xl mt-8 mr-0 mb-0 ml-0 pt-4 pr-10 pb-4 pl-10 flow-root rounded-lg sm:py-2"},Jl={class:"text-red-800 text-sm"},Xl={class:"py-10"},Zl=o("h6",{class:"text-sm mb-2 font-bold text-gray-700"},"Receiver",-1),eo={class:"flex items-center justify-between space-x-5"},to={class:"flex items-center flex-1 min-w-0"},lo={class:"flex-1 min-w-0"},oo={class:"text-lg font-bold text-gray-800 truncate"},so={class:"text-gray-600 text-sm"},no={class:"mt-10"},io=o("h6",{class:"mb-4 text-sm font-bold text-gray-700"},"Pick a gift",-1),ao={class:"mb-8 grid grid-cols-4 gap-3 max-w-sm"},ro=["name","value","id"],uo=["for"],co={class:"flex flex-col"},fo={class:"text-xs font-semibold text-gray-500 text-center"},po={class:"inline-flex items-center mt-2"},vo={key:0},mo={class:"mb-2"},go={class:"font-normal text-gray-700 dark:text-gray-400"},_o={key:0,class:"inline-block inline-flex items-center mr-2"},bo={key:1,class:"inline-block nline-flex items-center mr-2"},ho={key:2,class:"inline-block inline-flex items-center mr-2"},yo={key:3,class:"inline-bloc inline-flex items-center mr-2"},xo={key:4,class:"inline-block font-me lex items-center mr-2"},wo={class:"inline-flex rounded-md shadow-sm",role:"group"},$o={class:"my-6"},ko=o("label",{for:"message",class:"block mb-2"},[o("h6",{class:"mb-3 text-sm font-bold text-gray-700"}," Add a note ")],-1),So={class:"py-3 sm:flex sm:flex-row-reverse"},Oo=["onClick","disabled"],Eo={__name:"SendGift",props:{gift_type:{type:String,required:!0},allGifts:{type:Array,required:!0},selected_users:Object},setup(e){le().props.auth.user;const l=se(),s=e,n=ge({individual:[],group:[]});me(()=>{s.allGifts.length!=0&&s.allGifts.forEach(O=>{const p={name:O.icon_name,gift_name:O.name,gift_id:O.incentive_id,unit_price:O.amount_per_item};switch(O.type){case"individual":n.individual.push(p);break;case"group":n.group.push(p);break}})});const t=S(""),i=S(0),a=S(0),r=S(0),g=S(""),u=S(""),d=P(()=>s.selected_users),k=P(()=>{var p;return!(((p=d.value)==null?void 0:p.user_id)??!1)||!t.value||!r.value||a.value<1||!g.value});W(a,(O,p)=>{r.value=i.value*a.value}),W(t,(O,p)=>{i.value=0,a.value=0,r.value=0,u.value="";let m=n.individual;if(!m)return;let f=m.find($=>$.name==O);f&&(u.value=f.gift_id,i.value=f.unit_price,a.value=1,r.value=i.value*a.value)});const x=()=>{a.value+=1},y=()=>{a.value!==1&&(a.value-=1)},c=pe({gift_type:"",employees:[],gift_id:"",gift_total_price:"",gift_quantity:"",gift_note:""}),w=()=>{var p;if(k.value)return;const O=((p=d.value)==null?void 0:p.employee_id)??!1;c.gift_type="individual",c.employees=[O],c.gift_id=u.value,c.gift_total_price=r.value.toFixed(2),c.gift_note=g.value,c.gift_quantity=a.value.toFixed(2),c.post(route("Incentive_gift.store"),{onFinish:()=>c.reset(),onSuccess:()=>{l.closeModal(),Ie.fire({title:"hurray!",text:"Your gift has been sent",icon:"success"})}})};return K(()=>{_e()}),(O,p)=>(v(),z(Te,null,{default:D(()=>[o("div",Wl,[o("div",Ql,[o("div",Yl,[o("p",Jl,C(h(c).errors.gift_type)+" "+C(h(c).errors.employees)+" "+C(h(c).errors.gift_total_price)+" "+C(h(c).errors.gift_quantity)+" "+C(h(c).errors.gift_note)+" "+C(h(c).errors.general),1),o("div",Xl,[o("div",null,[Zl,o("div",eo,[o("div",to,[o("div",lo,[o("p",oo,C(d.value.user_email),1),o("p",so,C(d.value.positions?d.value.positions.join(", "):""),1)])])])]),o("div",no,[io,o("div",ao,[(v(!0),_(V,null,B(n.individual,(m,f)=>(v(),_("div",{key:f,class:"w-16 h-16 hover:cursor-pointer"},[H(o("input",{type:"radio",name:m.name,value:m.name,id:m.name+f,"onUpdate:modelValue":p[0]||(p[0]=$=>t.value=$),class:"hidden"},null,8,ro),[[de,t.value]]),o("label",{for:m.name+f},[o("div",co,[m.name==="coffee"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[b(we)],2)):j("",!0),m.name==="cupcake"?(v(),_("div",{key:1,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[b($e)],2)):j("",!0),m.name==="flower"?(v(),_("div",{key:2,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[b(ke)],2)):j("",!0),m.name==="silver_pen"?(v(),_("div",{key:3,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[b(Se)],2)):j("",!0),o("div",fo,[o("span",po,[b(te,{class:"",w_class:"w-[10px]",h_class:"h-[auto]"})]),N(" "+C(m.unit_price),1)])]),m.name==="pizza"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[b(ce)],2)):j("",!0)],8,uo)]))),128))]),t.value!==""?(v(),_("div",vo,[o("div",mo,[o("div",go,[t.value==="coffee"?(v(),_("div",_o,[b(we,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="cupcake"?(v(),_("div",bo,[b($e,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="flower"?(v(),_("div",ho,[b(ke,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="pizza"?(v(),_("div",yo,[b(ce,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="silver"?(v(),_("div",xo,[b(Se,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),N(" x "+C(a.value)+" = $"+C(r.value),1)])]),o("div",null,[o("div",wo,[o("button",{onClick:y,type:"button",class:"px-3 py-1.5 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700"},[b(Kl)]),o("button",{onClick:x,type:"button",class:"px-3 py-1.5 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700"},[b(Ul)])])]),o("div",$o,[ko,H(o("textarea",{id:"message","onUpdate:modelValue":p[1]||(p[1]=m=>g.value=m),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your note here..."},null,512),[[De,g.value]])])])):j("",!0)]),o("div",So,[o("button",{onClick:U(w,["prevent"]),disabled:h(c).processing||k.value,type:"button",class:M([{"bg-gray-400 hover:cursor-not-allowed":k.value,"bg-gray-800 hover:bg-gray-500":!k.value},"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto"])}," Send gift ",10,Oo),o("button",{onClick:p[2]||(p[2]=U((...m)=>h(l).closeModal&&h(l).closeModal(...m),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])])]),_:1}))}},Co={class:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"},jo={class:"pt-0 pr-4 pb-0 pl-4 mt-0 mr-auto mb-0 ml-auto w-[600px] max-w-4xl sm:px-6 lg:px-8"},Po={class:"bg-white shadow-xl mt-8 mr-0 mb-0 ml-0 pt-4 pr-10 pb-4 pl-10 flow-root rounded-lg sm:py-2"},Lo={class:"text-red-800 text-sm"},Ro={class:"py-10"},Ao={class:"mb-3"},Do=o("h6",{class:"text-sm mb-2 font-bold text-gray-700"},"Receiver(s)",-1),Io={key:0,class:"flex items-center space-x-2 w-full mb-4"},To={class:"relative p-2 bg-white rounded-lg shadow"},Mo={class:"text-xs font-semibold text-gray-900"},Vo=o("br",null,null,-1),Fo={class:"text-gray-600 text-xs"},No={key:0,class:"mt-10"},Go=o("h6",{class:"text-sm mb-2 font-bold text-gray-700"}," Pick a group gift ",-1),Uo={class:"mb-8 w-full flex align-center justify-center max-w-sm"},Bo=["name","value","id"],zo=["for"],Ho={key:0},qo={key:0,class:"mb-2"},Ko=o("h6",{class:"text-sm mb-2 font-bold text-gray-700"}," Select amount ",-1),Wo=[Ko],Qo={key:1,class:"mb-2 text-xs"},Yo={class:"font-semibold text-gray-400 float-right text-right"},Jo={class:"inline-flex items-center"},Xo=o("br",null,null,-1),Zo={class:"inline-flex items-center"},es={class:"mx-1 inline-flex items-center"},ts=o("div",{class:"clear-both"},null,-1),ls={class:"inline-flex",role:"group"},os=["name","value","id"],ss=["for"],ns={class:"my-6"},is=o("label",{for:"message",class:"block mb-2"},[o("h6",{class:"mb-3 text-sm font-bold text-gray-700"}," Add a note ")],-1),as={class:"py-3 sm:flex sm:flex-row-reverse"},rs=["onClick","disabled"],us={__name:"SendGift_Group",props:{gift_type:{type:String,required:!0},allGifts:{type:Array,required:!0},allUsers:{type:Array,required:!0}},setup(e){const l=se(),s=e,n=ge({individual:[],group:[]}),t=P(()=>(n==null?void 0:n.group[0])??!1);me(()=>{s.allGifts.length!=0&&s.allGifts.forEach(p=>{const m={name:p.icon_name,gift_name:p.name,gift_id:p.incentive_id,unit_price:p.amount_per_item};switch(p.type){case"individual":n.individual.push(m);break;case"group":n.group.push(m);break}})});const i=S(""),a=S(0),r=S(0),g=S(""),u=S(""),d=S([50,100,150,200,250]),k=S([]),x=P(()=>k.value),y=P(()=>k.value.length==0||!i.value||!r.value||!g.value),c=pe({gift_type:"",employees:[],gift_id:"",gift_total_price:"",gift_note:"",gift_price_per_employee:""}),w=()=>{if(y.value)return;const p=x.value.map(m=>(m==null?void 0:m.employee_id)??!1);c.gift_type="group",c.employees=p,c.gift_id=u.value,c.gift_total_price=r.value.toFixed(2),c.gift_note=g.value,c.gift_price_per_employee=a.value,console.log(c),c.post(route("Incentive_gift.store"),{onFinish:()=>c.reset(),onSuccess:()=>{k.value=[],l.closeModal(),Ie.fire({title:"hurray!",text:"Your gift has been sent",icon:"success"})}})},O=p=>{k.value=p};return W(k,p=>{var m,f;p.length>0?(i.value=((m=t.value)==null?void 0:m.name)??"",u.value=((f=t.value)==null?void 0:f.gift_id)??""):(i.value="",u.value=""),a.value=0,r.value=0,g.value=""}),W(r,p=>{x.value.length==0||p==0||(a.value=p/x.value.length,a.value=a.value.toFixed(2))}),K(()=>{_e()}),(p,m)=>(v(),z(Te,null,{default:D(()=>[o("div",Co,[o("div",jo,[o("div",Po,[o("p",Lo,C(h(c).errors.gift_type)+" "+C(h(c).errors.employees)+" "+C(h(c).errors.gift_total_price)+" "+C(h(c).errors.gift_note)+" "+C(h(c).errors.general),1),o("div",Ro,[o("div",Ao,[Do,b(ve,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:D(()=>[k.value.length>0?(v(),_("div",Io,[(v(!0),_(V,null,B(k.value,f=>(v(),_("div",null,[o("div",To,[o("p",null,[o("span",Mo,C(f.user_email),1),Vo,o("span",Fo,C(f.positions?f.positions.join(", "):""),1)])])]))),256))])):j("",!0)]),_:1}),o("div",null,[b(Al,{allUsers:e.allUsers,onSelectedEmployeesChanged:O},null,8,["allUsers"])])]),k.value.length>0?(v(),_("div",No,[Go,o("div",Uo,[o("div",null,[H(o("input",{type:"radio",name:t.value.name,value:t.value.name,id:t.value.name+t.value.gift_id,"onUpdate:modelValue":m[0]||(m[0]=f=>i.value=f),class:"hidden"},null,8,Bo),[[de,i.value]]),o("label",{for:t.value.name+t.value.gift_id},[t.value.name==="pizza"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":i.value===t.value.name},"hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 mr-2 text-center inline-flex items-center"])},[b(ce,{w_class:"w-[70px]",h_class:"h-[auto]"})],2)):j("",!0)],8,zo)])]),i.value!==""?(v(),_("div",Ho,[r.value==0?(v(),_("div",qo,Wo)):(v(),_("div",Qo,[o("div",Yo,[o("div",Jo,[N(" total amount: "),b(te,{class:"mx-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(C(r.value),1)]),Xo,o("div",Zo,[N(" each employee receives "),o("span",es,[b(te,{class:"mr-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(" "+C(a.value),1)]),N(" worth of pizza slices ")])]),ts])),o("div",null,[o("div",ls,[(v(!0),_(V,null,B(d.value,f=>(v(),_("div",{key:f},[H(o("input",{type:"radio",name:t.value.name,value:f,id:"groupGiftsAndPrices"+f,"onUpdate:modelValue":m[1]||(m[1]=$=>r.value=$),class:"hidden"},null,8,os),[[de,r.value]]),o("label",{for:"groupGiftsAndPrices"+f},[o("span",{class:M([{"bg-gray-300 ":r.value===f,"bg-white ":r.value!==f},"text-gray-900 hover:bg-gray-300 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2 mb-2"])},[b(te,{class:"mr-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(" "+C(f),1)],2)],8,ss)]))),128))])]),o("div",ns,[is,H(o("textarea",{id:"message","onUpdate:modelValue":m[2]||(m[2]=f=>g.value=f),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your note here..."},null,512),[[De,g.value]])])])):j("",!0)])):j("",!0),o("div",as,[o("button",{onClick:U(w,["prevent"]),disabled:h(c).processing||y.value,type:"button",class:M([{"bg-gray-400 hover:cursor-not-allowed":y.value,"bg-gray-800 hover:bg-gray-500":!y.value},"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto"])}," Send gift ",10,rs),o("button",{onClick:m[3]||(m[3]=U((...f)=>h(l).closeModal&&h(l).closeModal(...f),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])])]),_:1}))}},ds={class:"flex items-center space-x-4"},cs=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Employees ",-1),fs={class:"py-12"},ps={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-6"},vs={key:0,class:"mb-4"},ms=o("div",{class:"clear-both"},null,-1),gs={class:"mt-6 rounded-lg"},_s={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},bs={key:0,class:"bg-white shadow-md p-6 rounded-2xl border-2 border-gray-50"},hs={class:"flex flex-col"},ys={class:"font-bold text-center"},xs={class:"my-6"},ws={class:"w-full flex flex-row space-x-4 items-center"},$s={class:"h-18 w-18 border-2 rounded-full p-3"},ks={class:"relative w-full font-semibold flex flex-col min-h-[100px] items-center justify-center"},Ss={key:0},Os=o("p",{class:"ml-2 text-gray-700 text-xs"}," has no role ",-1),Es=[Os],Cs={key:1},js={class:"ml-2 text-navy-700 text-xs"},Ps={key:0,class:"w-full text-right border-t-2 border-gray-100 py-4 flex items-end justify-end"},Ls=o("div",null,[o("span",{class:"underline px-3 py-1.5 mr-2 text-sm font-semibold text-gray-600 transition-all duration-200 hover:text-gray-700 hover:cursor-pointer"},"add role")],-1),Rs=["onClick"],As=["onClick"],qs={__name:"index",props:{allPositions:Array,allGifts:Array,users_and_employees:Object,isEmployeeAnAttorney:Boolean},setup(e){const l=se(),s=e,n=S(""),t=S([]),i=S([]),a=ge({addRole:null}),r=P(()=>{const x=s.users_and_employees;if(a.addRole===null)return x;for(const y in a.addRole)if(Object.hasOwnProperty.call(a.addRole,y)){const c=a.addRole[y];x[y]=c}return x}),g=async(x,y)=>{var c;try{let w=await lt.post(route("employee.store"),{user_id:x,position_id:y});const O=(c=w==null?void 0:w.data)==null?void 0:c.processed_users_and_employees;a.addRole=O}catch{}},u=(x,y=[])=>{x==""&&y==[]||(n.value=x,t.value=y,l.openSendGiftModal())},d=x=>{if(x!=""){n.value=x,i.value=[];for(const y in r.value)if(Object.hasOwnProperty.call(r.value,y)){const c=r.value[y];if(c.user_id===le().props.auth.user.user_id)continue;i.value.push(c)}l.openSendGift_GroupModal()}},k=x=>{const y=le().props.isEmployeeAnAttorney?route("employee.show",x):null;return console.log(y),y};return(x,y)=>(v(),_(V,null,[h(l).currentModal==="NEW_EMPLOYEE_INVITE"?(v(),z(Tt,{key:0,allPositions:e.allPositions},null,8,["allPositions"])):j("",!0),h(l).currentModal==="SEND_GIFT"?(v(),z(Eo,{key:1,gift_type:n.value,allGifts:e.allGifts,selected_users:t.value},null,8,["gift_type","allGifts","selected_users"])):j("",!0),h(l).currentModal==="SendGift_Group"?(v(),z(us,{key:2,gift_type:n.value,allGifts:e.allGifts,allUsers:i.value},null,8,["gift_type","allGifts","allUsers"])):j("",!0),b(h(et),{title:"Employees"}),b(ot,null,{header:D(()=>[o("div",ds,[cs,e.isEmployeeAnAttorney?(v(),z(xe,{key:0,type:"button",class:"float-right",onClick:U(h(l).openNewEmployeeInviteModal,["prevent"])},{default:D(()=>[N("add new employee")]),_:1},8,["onClick"])):j("",!0)])]),default:D(()=>[o("div",fs,[o("div",ps,[e.isEmployeeAnAttorney?(v(),_("div",vs,[b(xe,{onClick:y[0]||(y[0]=U(c=>d("group",[]),["prevent"])),type:"button",class:"mx-2 float-right"},{default:D(()=>[N("group gift")]),_:1}),ms])):j("",!0),o("div",gs,[o("div",_s,[(v(!0),_(V,null,B(r.value,c=>(v(),_(V,{key:c.user_id},[x.$page.props.auth.user.user_id!==c.user_id?(v(),_("div",bs,[o("div",hs,[o("div",null,[b(h(tt),{href:k(c.employee_public_ref),class:"cursor-pointer text-center transition text-gray-600 hover:text-slate-400"},{default:D(()=>[o("h2",ys,C(c.user_fullname),1)]),_:2},1032,["href"])]),o("div",xs,[o("div",ws,[o("div",null,[o("div",$s,[b(nt)])]),o("div",null,[o("div",ks,[c.positions.length==0?(v(),_("div",Ss,Es)):(v(),_("div",Cs,[(v(!0),_(V,null,B(c.positions,w=>(v(),_("div",{key:w,class:"flex mb-2"},[o("div",null,[b(vt)]),o("div",js,C(w),1)]))),128))]))])])])]),e.isEmployeeAnAttorney?(v(),_("div",Ps,[b(st,null,{trigger:D(()=>[Ls]),content:D(()=>[(v(!0),_(V,null,B(e.allPositions,w=>(v(),_("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:U(O=>g(c.user_id,w.position_id),["prevent"]),key:w.position_id},C(w.position_name),9,Rs))),128))]),_:2},1024),o("button",{onClick:w=>u("individial",c),type:"button",class:"text-gray-900 hover:bg-gray-200 shadow focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 mr-2 text-center inline-flex items-center"},[b(it)],8,As)])):j("",!0)])])):j("",!0)],64))),128))])])])])]),_:1})],64))}};export{qs as default};
