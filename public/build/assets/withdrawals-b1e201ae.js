import{Q as g,T as R,h as k,k as C,o as l,f as i,b as e,a,t as u,u as o,g as p,w as f,m as j,e as y,n as w,y as b,H as A,c as V,F as v,Z as F,d as $,l as B,j as M}from"./app-925f570f.js";import{a as q,_ as N}from"./AuthenticatedLayout-7b05eb1b.js";import{_ as T}from"./PrimaryButton-9581504e.js";import{u as S,i as W,S as E}from"./sweetalert2.all-5b19235e.js";import{_ as P,a as O,b as U}from"./TextInput-3876b4e3.js";import"./ApplicationLogo-7e28cc1c.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},D=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),G={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Q={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},H={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},L={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Y={class:"sm:flex sm:items-start"},Z={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10"},I=e("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[e("h3",{class:"text-base font-semibold leading-6 text-gray-900",id:"modal-title"}," Request withdrawal "),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Please review the details below before sending the invitation. Once invited, your new employee will be granted the selected roles. This action cannot be undone! ")])],-1),J={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},K={class:"text-red-800 text-sm"},X={id:"fundsRequestForm",class:"space-y-6",action:"#",method:"POST"},ee={class:"mt-3 text-center sm:text-left"},te=e("span",{class:"font-semibold leading-6 text-gray-400 text-sm"}," Balance (USD): ",-1),se={class:"font-semibold leading-6 text-gray-800 text-sm ml-2"},oe={key:0,class:"font-semibold leading-6 text-red-800 text-sm mt-2"},ae={class:"mt-2"},ne=e("div",null,null,-1),le={class:"flex items-center gap-4"},re={key:0,class:"text-sm text-gray-600"},ie={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},de=["onClick","disabled"],ce={__name:"RequestFunds",props:{allPositions:Array},setup(r){const m=g().props.auth.user,h=g().props.userBalance,_=S(),t=R({amount:"",request_sent_by:m.user_id}),n=k(()=>!(!t.amount||Number(t.amount)<0||Number(t.amount)>h)),d=()=>{if(t.processing||!n)return;(document.querySelector("#fundsRequestForm")??!1)&&t.post(route("withdrawal_requests.store"),{onSuccess:()=>{t.reset(),_.closeModal(),E.fire({title:"Withdrawal request sent!",text:"Your request for fund release has been sent to the attorney",icon:"success"})}})};return C(()=>{W()}),(s,c)=>(l(),i("div",z,[D,e("div",G,[e("div",Q,[e("div",H,[e("div",L,[e("div",Y,[e("div",Z,[a(q)]),I]),e("div",J,[e("p",K,u(o(t).errors.amount)+" "+u(o(t).errors.general),1),e("form",X,[e("div",ee,[te,e("span",se,u(s.$page.props.userBalance),1),n.value?p("",!0):(l(),i("div",oe," Please enter a valid amount "))]),e("div",null,[a(P,{class:"block text-sm font-medium leading-6 text-gray-900",for:"Amount",value:"Amount"}),e("div",ae,[a(O,{id:"Amount",type:"number",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",modelValue:o(t).amount,"onUpdate:modelValue":c[0]||(c[0]=x=>o(t).amount=x),required:""},null,8,["modelValue"])]),a(U,{class:"mt-2",message:o(t).errors.amount},null,8,["message"])]),ne,e("div",le,[a(j,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:f(()=>[o(t).recentlySuccessful?(l(),i("p",re," Request sent ")):p("",!0)]),_:1})])])])]),e("div",ie,[e("button",{onClick:y(d,["prevent"]),disabled:!n.value||o(t).processing,type:"button",class:w(["inline-flex w-full justify-center rounded-md bg-gray-800 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 sm:ml-3 sm:w-auto",{"hover:cursor-not-allowed":!n.value}])}," Send request ",10,de),e("button",{onClick:c[1]||(c[1]=y((...x)=>o(_).closeModal&&o(_).closeModal(...x),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])]))}},ue=e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),me=e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),_e={id:"SVGRepo_iconCarrier"},fe=["stroke"],pe=["stroke"],he={__name:"user",props:{fill:{type:String,default:"#333"},w_class:{type:String,default:"w-[25px]"},h_class:{type:String,default:"h-[25px]"}},setup(r){return(m,h)=>(l(),i("svg",{class:w([r.w_class,r.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[ue,me,e("g",_e,[e("circle",{cx:"12",cy:"6",r:"4",stroke:r.fill,"stroke-width":"1.5"},null,8,fe),e("path",{d:"M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634",stroke:r.fill,"stroke-width":"1.5","stroke-linecap":"round"},null,8,pe)])],2))}},xe=e("div",{class:"flex items-center space-x-4"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Withdrawals ")],-1),ge={class:"my-16"},ye={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-14"},we={key:0,class:"mb-4"},be=e("div",{class:"clear-both"},null,-1),ve={class:"rounded-lg"},$e={key:0,class:"grid grid-cols-1 gap-4"},ke={class:"rounded-xl border p-5 shadow-md w-10/12 bg-white"},qe={class:"flex w-full items-center justify-between mb-6"},Se={class:"flex items-center space-x-3"},Re={class:"h-8 w-8 rounded-full flex items-center justify-center shadow-lg"},Ce={class:"text-lg font-bold text-slate-700"},je={class:"flex items-center justify-center space-x-4"},Ae={class:"text-base text-neutral-500 inline-flex items-center"},Ve={class:"flex items-center justify-between text-slate-500"},Fe={class:"flex space-x-4 md:space-x-8"},Be=e("span",{class:"middle none center rounded-lg border border-cyan-800 py-1.5 px-3 font-sans text-xs font-bold uppercase text-cyan-500 transition-all hover:opacity-75 focus:ring focus:ring-cyan-200 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-dark":"true"}," View transaction ",-1),Ue={__name:"withdrawals",props:{allWithdrawals:Array},setup(r){const m=S(),h=r,_=g().props.isEmployeeAnAttorney;b(""),b([]);const t=A({addRole:null});return k(()=>{const n=h.users_and_employees;if(t.addRole===null)return n;for(const d in t.addRole)if(Object.hasOwnProperty.call(t.addRole,d)){const s=t.addRole[d];n[d]=s}return n}),(n,d)=>(l(),i(v,null,[o(m).currentModal==="REQUEST_FUNDS"?(l(),V(ce,{key:0})):p("",!0),a(o(F),{title:"Withdrawals"}),a(N,null,{header:f(()=>[xe]),default:f(()=>[e("div",ge,[e("div",ye,[o(_)?p("",!0):(l(),i("div",we,[a(T,{onClick:d[0]||(d[0]=y(s=>o(m).openRequestFundsModal(),["prevent"])),type:"button",class:"mx-2 float-right"},{default:f(()=>[$("request funds")]),_:1}),be])),e("div",ve,[r.allWithdrawals.length>0?(l(),i("div",$e,[(l(!0),i(v,null,B(r.allWithdrawals,(s,c)=>(l(),i("div",{class:"flex items-center justify-center mb-4",key:c},[e("div",ke,[e("div",qe,[e("div",Se,[e("div",Re,[a(he,{w_class:"w-5",h_class:"h-5"})]),e("div",Ce,u(s.user_email),1)]),e("div",je,[e("div",Ae,[a(q,{class:"mr-1"}),$(" "+u(s.withdrawal_request_amount),1)]),e("div",{class:w(["rounded-2xl border bg-neutral-100 px-2 py-1 text-xs font-semibold uppercase",{"text-amber-500":s.withdrawal_request_status=="pending","text-red-700":s.withdrawal_request_status=="failed"||s.withdrawal_request_status=="rejected","text-green-700":s.withdrawal_request_status=="success"}])},u(s.withdrawal_request_status),3)])]),e("div",null,[e("div",Ve,[e("div",Fe,[a(o(M),{href:n.route("withdrawal_requests.show",s.withdrawal_request_link_id),class:"flex cursor-pointer items-center transition hover:text-slate-600"},{default:f(()=>[Be]),_:2},1032,["href"])])])])])]))),128))])):p("",!0)])])])]),_:1})],64))}};export{Ue as default};
