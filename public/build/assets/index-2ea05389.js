import{o as v,f as _,b as s,n as M,Q as de,T as ce,m as q,a as y,u as x,F as V,l as B,w as I,g as j,p as fe,e as U,i as W,v as We,r as Qe,q as Ye,s as ie,x as Re,y as Ae,z as k,A as le,h as P,B as Q,C as K,D as Je,E as F,G as H,H as pe,d as N,t as C,c as z,I as ve,J as Ie,K as ae,Z as Xe,j as Ze,L as et}from"./app-babde72a.js";import{a as te,_ as tt,b as lt}from"./AuthenticatedLayout-68c8f42a.js";import{_ as be}from"./PrimaryButton-bdc969c3.js";import{_ as st}from"./employee_icon-a07ad674.js";import{_ as ot}from"./gift-2ab1db21.js";import{u as se,i as me,S as De}from"./sweetalert2.all-e27a2132.js";import{_ as ye,a as nt,b as xe}from"./TextInput-c6382d0e.js";import{N as it}from"./notice_icon-dd37d0d6.js";import{_ as at}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as we,a as $e,b as ke,c as re,d as Se}from"./QuillSliverPen-82aad90e.js";import"./ApplicationLogo-915d4504.js";const rt=s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),ut=s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),dt={id:"SVGRepo_iconCarrier"},ct=["stroke"],ft={__name:"suitcase_icon",props:{fill:{type:String,default:"#982069"},w_class:{type:String,default:"w-[15px]"},h_class:{type:String,default:"h-[15px]"}},setup(e){return(l,o)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[rt,ut,s("g",dt,[s("path",{d:"M9 7H5C3.89543 7 3 7.89543 3 9V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V9C21 7.89543 20.1046 7 19 7H15M9 7V5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7M9 7H15",stroke:e.fill,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ct)])],2))}},pt={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},vt=s("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),mt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},gt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},_t={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},ht={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},bt={class:"sm:flex sm:items-start"},yt=s("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[s("h3",{class:"text-base font-semibold leading-6 text-gray-900",id:"modal-title"}," Invite an employee to the platform "),s("div",{class:"mt-2"},[s("p",{class:"text-sm text-gray-500"}," Please review the details below before sending the invitation. Once invited, your new employee will be granted the selected roles. This action cannot be undone! ")])],-1),xt={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},wt={id:"newInviteForm",class:"space-y-6",action:"#",method:"POST"},$t={class:"mt-2"},kt=s("label",{for:"position_checkbox",class:"block text-sm mb-2 font-medium leading-6 text-gray-900"},"Role(s) to be assigned",-1),St={class:"grid grid-cols-3 gap-2"},Ot=["id","value"],Et={class:"flex items-center gap-4"},Ct={key:0,class:"text-sm text-gray-600"},jt={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Pt=["onClick","disabled"],Lt={__name:"NewEmployeeInvite",props:{allPositions:Array},setup(e){const l=de().props.auth.user,o=se(),n=ce({invite_email:"",invite_status:"pending",positions_assigned:[],invite_sent_by:l.user_id}),t=()=>{if(n.processing)return;(document.querySelector("#newInviteForm")??!1)&&n.post(route("invite.store"),{onSuccess:()=>n.reset()})};return q(()=>{me()}),(i,a)=>(v(),_("div",pt,[vt,s("div",mt,[s("div",gt,[s("div",_t,[s("div",ht,[s("div",bt,[y(it),yt]),s("div",xt,[s("form",wt,[s("div",null,[y(ye,{class:"block text-sm font-medium leading-6 text-gray-900",for:"email_employee",value:"Employee Email address"}),s("div",$t,[y(nt,{id:"email_employee",type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",modelValue:x(n).invite_email,"onUpdate:modelValue":a[0]||(a[0]=u=>x(n).invite_email=u),required:""},null,8,["modelValue"])]),y(xe,{class:"mt-2",message:x(n).errors.invite_email},null,8,["message"])]),s("div",null,[s("fieldset",null,[kt,s("div",St,[(v(!0),_(V,null,B(e.allPositions,(u,g)=>(v(),_("div",{key:g,class:"flex items-center mb-1"},[W(s("input",{id:"checkbox"+g,type:"checkbox",value:u.position_id,"onUpdate:modelValue":a[1]||(a[1]=r=>x(n).positions_assigned=r),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Ot),[[We,x(n).positions_assigned]]),y(ye,{class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"checkbox"+g,value:u.position_name},null,8,["for","value"])]))),128))]),y(xe,{class:"mt-2",message:x(n).errors.positions_assigned},null,8,["message"])])]),s("div",Et,[y(fe,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:I(()=>[x(n).recentlySuccessful?(v(),_("p",Ct," Employee invited ")):j("",!0)]),_:1})])])])]),s("div",jt,[s("button",{onClick:U(t,["prevent"]),disabled:x(n).processing,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gray-800 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 sm:ml-3 sm:w-auto"}," Send Invite ",8,Pt),s("button",{onClick:a[2]||(a[2]=U((...u)=>x(o).closeModal&&x(o).closeModal(...u),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])]))}},Rt={},At={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},It=s("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Dt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"};function Tt(e,l){return v(),_("div",At,[It,s("div",Dt,[Qe(e.$slots,"default")])])}const Te=at(Rt,[["render",Tt]]);function G(e,l,...o){if(e in l){let t=l[e];return typeof t=="function"?t(...o):t}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(l).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,G),n}var ue=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ue||{}),Mt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Mt||{});function Y({visible:e=!0,features:l=0,ourProps:o,theirProps:n,...t}){var i;let a=Ve(n,o),u=Object.assign(t,{props:a});if(e||l&2&&a.static)return ne(u);if(l&1){let g=(i=a.unmount)==null||i?0:1;return G(g,{0(){return null},1(){return ne({...t,props:{...a,hidden:!0,style:{display:"none"}}})}})}return ne(u)}function ne({props:e,attrs:l,slots:o,slot:n,name:t}){var i,a;let{as:u,...g}=Fe(e,["unmount","static"]),r=(i=o.default)==null?void 0:i.call(o,n),d={};if(n){let h=!1,$=[];for(let[b,f]of Object.entries(n))typeof f=="boolean"&&(h=!0),f===!0&&$.push(b);h&&(d["data-headlessui-state"]=$.join(" "))}if(u==="template"){if(r=Me(r??[]),Object.keys(g).length>0||Object.keys(l).length>0){let[h,...$]=r??[];if(!Ft(h)||$.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(g).concat(Object.keys(l)).map(S=>S.trim()).filter((S,O,p)=>p.indexOf(S)===O).sort((S,O)=>S.localeCompare(O)).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let b=Ve((a=h.props)!=null?a:{},g),f=Ye(h,b);for(let S in b)S.startsWith("on")&&(f.props||(f.props={}),f.props[S]=b[S]);return f}return Array.isArray(r)&&r.length===1?r[0]:r}return ie(u,Object.assign({},g,d),{default:()=>r})}function Me(e){return e.flatMap(l=>l.type===V?Me(l.children):[l])}function Ve(...e){if(e.length===0)return{};if(e.length===1)return e[0];let l={},o={};for(let n of e)for(let t in n)t.startsWith("on")&&typeof n[t]=="function"?(o[t]!=null||(o[t]=[]),o[t].push(n[t])):l[t]=n[t];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(o).map(n=>[n,void 0])));for(let n in o)Object.assign(l,{[n](t,...i){let a=o[n];for(let u of a){if(t instanceof Event&&t.defaultPrevented)return;u(t,...i)}}});return l}function Vt(e){let l=Object.assign({},e);for(let o in l)l[o]===void 0&&delete l[o];return l}function Fe(e,l=[]){let o=Object.assign({},e);for(let n of l)n in o&&delete o[n];return o}function Ft(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Nt=0;function Gt(){return++Nt}function oe(){return Gt()}var A=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(A||{});function Ut(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function Bt(e,l){let o=l.resolveItems();if(o.length<=0)return null;let n=l.resolveActiveIndex(),t=n??-1,i=(()=>{switch(e.focus){case 0:return o.findIndex(a=>!l.resolveDisabled(a));case 1:{let a=o.slice().reverse().findIndex((u,g,r)=>t!==-1&&r.length-g-1>=t?!1:!l.resolveDisabled(u));return a===-1?a:o.length-1-a}case 2:return o.findIndex((a,u)=>u<=t?!1:!l.resolveDisabled(a));case 3:{let a=o.slice().reverse().findIndex(u=>!l.resolveDisabled(u));return a===-1?a:o.length-1-a}case 4:return o.findIndex(a=>l.resolveId(a)===e.id);case 5:return null;default:Ut(e)}})();return i===-1?n:i}function R(e){var l;return e==null||e.value==null?null:(l=e.value.$el)!=null?l:e.value}let Ne=Symbol("Context");var X=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(X||{});function zt(){return Re(Ne,null)}function Ht(e){Ae(Ne,e)}function Oe(e,l){if(e)return e;let o=l??"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function qt(e,l){let o=k(Oe(e.value.type,e.value.as));return q(()=>{o.value=Oe(e.value.type,e.value.as)}),le(()=>{var n;o.value||R(l)&&R(l)instanceof HTMLButtonElement&&!((n=R(l))!=null&&n.hasAttribute("type"))&&(o.value="button")}),o}var Kt=Object.defineProperty,Wt=(e,l,o)=>l in e?Kt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[l]=o,Ee=(e,l,o)=>(Wt(e,typeof l!="symbol"?l+"":l,o),o);class Qt{constructor(){Ee(this,"current",this.detect()),Ee(this,"currentId",0)}set(l){this.current!==l&&(this.currentId=0,this.current=l)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let ge=new Qt;function Yt(e){if(ge.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let l=R(e);if(l)return l.ownerDocument}return document}let Ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Jt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Jt||{}),Xt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xt||{}),Zt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Zt||{}),_e=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(_e||{});function Ge(e,l=0){var o;return e===((o=Yt(e))==null?void 0:o.body)?!1:G(l,{0(){return e.matches(Ce)},1(){let n=e;for(;n!==null;){if(n.matches(Ce))return!0;n=n.parentElement}return!1}})}var el=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(el||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function tl(e,l=o=>o){return e.slice().sort((o,n)=>{let t=l(o),i=l(n);if(t===null||i===null)return 0;let a=t.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ee(e,l,o){ge.isServer||le(n=>{document.addEventListener(e,l,o),n(()=>document.removeEventListener(e,l,o))})}function ll(e,l,o){ge.isServer||le(n=>{window.addEventListener(e,l,o),n(()=>window.removeEventListener(e,l,o))})}function sl(e,l,o=P(()=>!0)){function n(i,a){if(!o.value||i.defaultPrevented)return;let u=a(i);if(u===null||!u.getRootNode().contains(u))return;let g=function r(d){return typeof d=="function"?r(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let r of g){if(r===null)continue;let d=r instanceof HTMLElement?r:R(r);if(d!=null&&d.contains(u)||i.composed&&i.composedPath().includes(d))return}return!Ge(u,_e.Loose)&&u.tabIndex!==-1&&i.preventDefault(),l(i,u)}let t=k(null);ee("pointerdown",i=>{var a,u;o.value&&(t.value=((u=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:u[0])||i.target)},!0),ee("mousedown",i=>{var a,u;o.value&&(t.value=((u=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:u[0])||i.target)},!0),ee("click",i=>{t.value&&(n(i,()=>t.value),t.value=null)},!0),ee("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),ll("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Ue=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ue||{});let ol=Q({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:o}){return()=>{let{features:n,...t}=e,i={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Y({ourProps:i,theirProps:t,slot:{},attrs:o,slots:l,name:"Hidden"})}}});function Be(e={},l=null,o=[]){for(let[n,t]of Object.entries(e))He(o,ze(l,n),t);return o}function ze(e,l){return e?e+"["+l+"]":l}function He(e,l,o){if(Array.isArray(o))for(let[n,t]of o.entries())He(e,ze(l,n.toString()),t);else o instanceof Date?e.push([l,o.toISOString()]):typeof o=="boolean"?e.push([l,o?"1":"0"]):typeof o=="string"?e.push([l,o]):typeof o=="number"?e.push([l,`${o}`]):o==null?e.push([l,""]):Be(o,l,e)}function nl(e,l,o){let n=k(o==null?void 0:o.value),t=P(()=>e.value!==void 0);return[P(()=>t.value?e.value:n.value),function(i){return t.value||(n.value=i),l==null?void 0:l(i)}]}function je(e){return[e.screenX,e.screenY]}function il(){let e=k([-1,-1]);return{wasMoved(l){let o=je(l);return e.value[0]===o[0]&&e.value[1]===o[1]?!1:(e.value=o,!0)},update(l){e.value=je(l)}}}let Pe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Le(e){var l,o;let n=(l=e.innerText)!=null?l:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let i=!1;for(let u of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),i=!0;let a=i?(o=t.innerText)!=null?o:"":n;return Pe.test(a)&&(a=a.replace(Pe,"")),a}function al(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let o=e.getAttribute("aria-labelledby");if(o){let n=o.split(" ").map(t=>{let i=document.getElementById(t);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():Le(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Le(e).trim()}function rl(e){let l=k(""),o=k("");return()=>{let n=R(e);if(!n)return"";let t=n.innerText;if(l.value===t)return o.value;let i=al(n).trim().toLowerCase();return l.value=t,o.value=i,i}}function ul(e,l){return e===l}var dl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dl||{}),cl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(cl||{}),fl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(fl||{});function pl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let qe=Symbol("ListboxContext");function Z(e){let l=Re(qe,null);if(l===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}return l}let vl=Q({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ul},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:o,emit:n}){let t=k(1),i=k(null),a=k(null),u=k(null),g=k([]),r=k(""),d=k(null),h=k(1);function $(c=w=>w){let w=d.value!==null?g.value[d.value]:null,E=tl(c(g.value.slice()),T=>R(T.dataRef.domRef)),L=w?E.indexOf(w):null;return L===-1&&(L=null),{options:E,activeOptionIndex:L}}let b=P(()=>e.multiple?1:0),[f,S]=nl(P(()=>e.modelValue),c=>n("update:modelValue",c),P(()=>e.defaultValue)),O=P(()=>f.value===void 0?G(b.value,{1:[],0:void 0}):f.value),p={listboxState:t,value:O,mode:b,compare(c,w){if(typeof e.by=="string"){let E=e.by;return(c==null?void 0:c[E])===(w==null?void 0:w[E])}return e.by(c,w)},orientation:P(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:a,optionsRef:u,disabled:P(()=>e.disabled),options:g,searchQuery:r,activeOptionIndex:d,activationTrigger:h,closeListbox(){e.disabled||t.value!==1&&(t.value=1,d.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(c,w,E){if(e.disabled||t.value===1)return;let L=$(),T=Bt(c===D.Specific?{focus:D.Specific,id:w}:{focus:c},{resolveItems:()=>L.options,resolveActiveIndex:()=>L.activeOptionIndex,resolveId:J=>J.id,resolveDisabled:J=>J.dataRef.disabled});r.value="",d.value=T,h.value=E??1,g.value=L.options},search(c){if(e.disabled||t.value===1)return;let w=r.value!==""?0:1;r.value+=c.toLowerCase();let E=(d.value!==null?g.value.slice(d.value+w).concat(g.value.slice(0,d.value+w)):g.value).find(T=>T.dataRef.textValue.startsWith(r.value)&&!T.dataRef.disabled),L=E?g.value.indexOf(E):-1;L===-1||L===d.value||(d.value=L,h.value=1)},clearSearch(){e.disabled||t.value!==1&&r.value!==""&&(r.value="")},registerOption(c,w){let E=$(L=>[...L,{id:c,dataRef:w}]);g.value=E.options,d.value=E.activeOptionIndex},unregisterOption(c){let w=$(E=>{let L=E.findIndex(T=>T.id===c);return L!==-1&&E.splice(L,1),E});g.value=w.options,d.value=w.activeOptionIndex,h.value=1},theirOnChange(c){e.disabled||S(c)},select(c){e.disabled||S(G(b.value,{0:()=>c,1:()=>{let w=F(p.value.value).slice(),E=F(c),L=w.findIndex(T=>p.compare(E,F(T)));return L===-1?w.push(E):w.splice(L,1),w}}))}};sl([a,u],(c,w)=>{var E;p.closeListbox(),Ge(w,_e.Loose)||(c.preventDefault(),(E=R(a))==null||E.focus())},P(()=>t.value===0)),Ae(qe,p),Ht(P(()=>G(t.value,{0:X.Open,1:X.Closed})));let m=P(()=>{var c;return(c=R(a))==null?void 0:c.closest("form")});return q(()=>{K([m],()=>{if(!m.value||e.defaultValue===void 0)return;function c(){p.theirOnChange(e.defaultValue)}return m.value.addEventListener("reset",c),()=>{var w;(w=m.value)==null||w.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{name:c,modelValue:w,disabled:E,form:L,...T}=e,J={open:t.value===0,disabled:E,value:O.value};return ie(V,[...c!=null&&O.value!=null?Be({[c]:O.value}).map(([he,Ke])=>ie(ol,Vt({features:Ue.Hidden,key:he,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:L,name:he,value:Ke}))):[],Y({ourProps:{},theirProps:{...o,...Fe(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:J,slots:l,attrs:o,name:"Listbox"})])}}}),ml=Q({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-listbox-label-${oe()}`}},setup(e,{attrs:l,slots:o}){let n=Z("ListboxLabel");function t(){var i;(i=R(n.buttonRef))==null||i.focus({preventScroll:!0})}return()=>{let i={open:n.listboxState.value===0,disabled:n.disabled.value},{id:a,...u}=e,g={id:a,ref:n.labelRef,onClick:t};return Y({ourProps:g,theirProps:u,slot:i,attrs:l,slots:o,name:"ListboxLabel"})}}}),gl=Q({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${oe()}`}},setup(e,{attrs:l,slots:o,expose:n}){let t=Z("ListboxButton");n({el:t.buttonRef,$el:t.buttonRef});function i(r){switch(r.key){case A.Space:case A.Enter:case A.ArrowDown:r.preventDefault(),t.openListbox(),H(()=>{var d;(d=R(t.optionsRef))==null||d.focus({preventScroll:!0}),t.value.value||t.goToOption(D.First)});break;case A.ArrowUp:r.preventDefault(),t.openListbox(),H(()=>{var d;(d=R(t.optionsRef))==null||d.focus({preventScroll:!0}),t.value.value||t.goToOption(D.Last)});break}}function a(r){switch(r.key){case A.Space:r.preventDefault();break}}function u(r){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),H(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(r.preventDefault(),t.openListbox(),pl(()=>{var d;return(d=R(t.optionsRef))==null?void 0:d.focus({preventScroll:!0})})))}let g=qt(P(()=>({as:e.as,type:l.type})),t.buttonRef);return()=>{var r,d;let h={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{id:$,...b}=e,f={ref:t.buttonRef,id:$,type:g.value,"aria-haspopup":"listbox","aria-controls":(r=R(t.optionsRef))==null?void 0:r.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(d=R(t.labelRef))==null?void 0:d.id,$].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:a,onClick:u};return Y({ourProps:f,theirProps:b,slot:h,attrs:l,slots:o,name:"ListboxButton"})}}}),_l=Q({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${oe()}`}},setup(e,{attrs:l,slots:o,expose:n}){let t=Z("ListboxOptions"),i=k(null);n({el:t.optionsRef,$el:t.optionsRef});function a(r){switch(i.value&&clearTimeout(i.value),r.key){case A.Space:if(t.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),t.search(r.key);case A.Enter:if(r.preventDefault(),r.stopPropagation(),t.activeOptionIndex.value!==null){let d=t.options.value[t.activeOptionIndex.value];t.select(d.dataRef.value)}t.mode.value===0&&(t.closeListbox(),H(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})}));break;case G(t.orientation.value,{vertical:A.ArrowDown,horizontal:A.ArrowRight}):return r.preventDefault(),r.stopPropagation(),t.goToOption(D.Next);case G(t.orientation.value,{vertical:A.ArrowUp,horizontal:A.ArrowLeft}):return r.preventDefault(),r.stopPropagation(),t.goToOption(D.Previous);case A.Home:case A.PageUp:return r.preventDefault(),r.stopPropagation(),t.goToOption(D.First);case A.End:case A.PageDown:return r.preventDefault(),r.stopPropagation(),t.goToOption(D.Last);case A.Escape:r.preventDefault(),r.stopPropagation(),t.closeListbox(),H(()=>{var d;return(d=R(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case A.Tab:r.preventDefault(),r.stopPropagation();break;default:r.key.length===1&&(t.search(r.key),i.value=setTimeout(()=>t.clearSearch(),350));break}}let u=zt(),g=P(()=>u!==null?(u.value&X.Open)===X.Open:t.listboxState.value===0);return()=>{var r,d,h,$;let b={open:t.listboxState.value===0},{id:f,...S}=e,O={"aria-activedescendant":t.activeOptionIndex.value===null||(r=t.options.value[t.activeOptionIndex.value])==null?void 0:r.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":($=(d=R(t.labelRef))==null?void 0:d.id)!=null?$:(h=R(t.buttonRef))==null?void 0:h.id,"aria-orientation":t.orientation.value,id:f,onKeydown:a,role:"listbox",tabIndex:0,ref:t.optionsRef};return Y({ourProps:O,theirProps:S,slot:b,attrs:l,slots:o,features:ue.RenderStrategy|ue.Static,visible:g.value,name:"ListboxOptions"})}}}),hl=Q({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${oe()}`}},setup(e,{slots:l,attrs:o,expose:n}){let t=Z("ListboxOption"),i=k(null);n({el:i,$el:i});let a=P(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===e.id:!1),u=P(()=>G(t.mode.value,{0:()=>t.compare(F(t.value.value),F(e.value)),1:()=>F(t.value.value).some(p=>t.compare(F(p),F(e.value)))})),g=P(()=>G(t.mode.value,{1:()=>{var p;let m=F(t.value.value);return((p=t.options.value.find(c=>m.some(w=>t.compare(F(w),F(c.dataRef.value)))))==null?void 0:p.id)===e.id},0:()=>u.value})),r=rl(i),d=P(()=>({disabled:e.disabled,value:e.value,get textValue(){return r()},domRef:i}));q(()=>t.registerOption(e.id,d)),Je(()=>t.unregisterOption(e.id)),q(()=>{K([t.listboxState,u],()=>{t.listboxState.value===0&&u.value&&G(t.mode.value,{1:()=>{g.value&&t.goToOption(D.Specific,e.id)},0:()=>{t.goToOption(D.Specific,e.id)}})},{immediate:!0})}),le(()=>{t.listboxState.value===0&&a.value&&t.activationTrigger.value!==0&&H(()=>{var p,m;return(m=(p=R(i))==null?void 0:p.scrollIntoView)==null?void 0:m.call(p,{block:"nearest"})})});function h(p){if(e.disabled)return p.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),H(()=>{var m;return(m=R(t.buttonRef))==null?void 0:m.focus({preventScroll:!0})}))}function $(){if(e.disabled)return t.goToOption(D.Nothing);t.goToOption(D.Specific,e.id)}let b=il();function f(p){b.update(p)}function S(p){b.wasMoved(p)&&(e.disabled||a.value||t.goToOption(D.Specific,e.id,0))}function O(p){b.wasMoved(p)&&(e.disabled||a.value&&t.goToOption(D.Nothing))}return()=>{let{disabled:p}=e,m={active:a.value,selected:u.value,disabled:p},{id:c,value:w,disabled:E,...L}=e,T={id:c,ref:i,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:h,onFocus:$,onPointerenter:f,onMouseenter:f,onPointermove:S,onMousemove:S,onPointerleave:O,onMouseleave:O};return Y({ourProps:T,theirProps:L,slot:m,attrs:o,slots:l,name:"ListboxOption"})}}});function bl(e,l){return v(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function yl(e,l){return v(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])}const xl={class:"w-full"},wl=s("div",{class:"clear-both"},null,-1),$l={class:"relative mt-1"},kl={key:0,class:"block truncate"},Sl={key:1},Ol={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},El={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Cl={__name:"SendGiftUserSelect",props:{allUsers:{type:Object,required:!0}},emits:["selectedEmployeesChanged"],setup(e,{emit:l}){const o=e,n=l,t=k([]),i=k([]);return K(i,a=>{n("selectedEmployeesChanged",a)}),pe(()=>{t.value=o.allUsers}),(a,u)=>(v(),_("div",xl,[y(x(vl),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=g=>i.value=g),multiple:""},{default:I(()=>[y(x(ml),{class:"text-xs underline decoration-dotted underline-offset-4 float-right mb-1"},{default:I(()=>[N("Add employees to the group:")]),_:1}),wl,s("div",$l,[y(x(gl),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left border border-1 shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:I(()=>[i.value.length>0?(v(),_("span",kl,C(i.value.map(g=>g.user_fullname).join(", ")),1)):(v(),_("span",Sl," Please select an employee ")),s("span",Ol,[y(x(yl),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),y(fe,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:I(()=>[y(x(_l),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:I(()=>[(v(!0),_(V,null,B(t.value,g=>(v(),z(x(hl),{key:g.employee_id,value:g,as:"template"},{default:I(({active:r,selected:d})=>[s("li",{class:M([r?"bg-amber-100 text-amber-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[s("span",{class:M([d?"font-medium":"font-normal","block truncate"])},C(g.user_fullname),3),d?(v(),_("span",El,[y(x(bl),{class:"h-5 w-5","aria-hidden":"true"})])):j("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])]))}},jl=s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),Pl=s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ll={id:"SVGRepo_iconCarrier"},Rl=s("title",null,null,-1),Al={id:"Complete"},Il={"data-name":"add",id:"add-2"},Dl=["stroke"],Tl=["stroke"],Ml={__name:"Add",props:{fill:{type:String,default:"#000000"},w_class:{type:String,default:"w-[20px]"},h_class:{type:String,default:"h-[20px]"}},setup(e){return(l,o)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000000"},[jl,Pl,s("g",Ll,[Rl,s("g",Al,[s("g",Il,[s("g",null,[s("line",{fill:"none",stroke:e.fill,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12",x2:"12",y1:"19",y2:"5"},null,8,Dl),s("line",{fill:"none",stroke:e.fill,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"5",x2:"19",y1:"12",y2:"12"},null,8,Tl)])])])])],2))}},Vl=s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),Fl=s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Nl=s("g",{id:"SVGRepo_iconCarrier"},[s("path",{d:"M6 12L18 12",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Gl=[Vl,Fl,Nl],Ul={__name:"Minus",props:{fill:{type:String,default:"#a0785a"},w_class:{type:String,default:"w-[20px]"},h_class:{type:String,default:"h-[20px]"}},setup(e){return(l,o)=>(v(),_("svg",{class:M([e.w_class,e.h_class]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gl,2))}},Bl={class:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"},zl={class:"pt-0 pr-4 pb-0 pl-4 mt-0 mr-auto mb-0 ml-auto w-[600px] max-w-4xl sm:px-6 lg:px-8"},Hl={class:"bg-white shadow-xl mt-8 mr-0 mb-0 ml-0 pt-4 pr-10 pb-4 pl-10 flow-root rounded-lg sm:py-2"},ql={class:"text-red-800 text-sm"},Kl={class:"py-10"},Wl=s("h6",{class:"text-sm mb-2 font-bold text-gray-700"},"Receiver",-1),Ql={class:"flex items-center justify-between space-x-5"},Yl={class:"flex items-center flex-1 min-w-0"},Jl={class:"flex-1 min-w-0"},Xl={class:"text-lg font-bold text-gray-800 truncate"},Zl={class:"text-gray-600 text-sm"},es={class:"mt-10"},ts=s("h6",{class:"mb-4 text-sm font-bold text-gray-700"},"Pick a gift",-1),ls={class:"mb-8 grid grid-cols-4 gap-3 max-w-sm"},ss=["name","value","id"],os=["for"],ns={class:"flex flex-col"},is={class:"text-xs font-semibold text-gray-500 text-center"},as={class:"inline-flex items-center mt-2"},rs={key:0},us={class:"mb-2"},ds={class:"font-normal text-gray-700 dark:text-gray-400"},cs={key:0,class:"inline-block inline-flex items-center mr-2"},fs={key:1,class:"inline-block nline-flex items-center mr-2"},ps={key:2,class:"inline-block inline-flex items-center mr-2"},vs={key:3,class:"inline-bloc inline-flex items-center mr-2"},ms={key:4,class:"inline-block font-me lex items-center mr-2"},gs={class:"inline-flex rounded-md shadow-sm",role:"group"},_s={class:"my-6"},hs=s("label",{for:"message",class:"block mb-2"},[s("h6",{class:"mb-3 text-sm font-bold text-gray-700"}," Add a note ")],-1),bs={class:"py-3 sm:flex sm:flex-row-reverse"},ys=["onClick","disabled"],xs={__name:"SendGift",props:{gift_type:{type:String,required:!0},allGifts:{type:Array,required:!0},selected_users:Object},setup(e){de().props.auth.user;const l=se(),o=e,n=ve({individual:[],group:[]});pe(()=>{o.allGifts.length!=0&&o.allGifts.forEach(O=>{const p={name:O.icon_name,gift_name:O.name,gift_id:O.incentive_id,unit_price:O.amount_per_item};switch(O.type){case"individual":n.individual.push(p);break;case"group":n.group.push(p);break}})});const t=k(""),i=k(0),a=k(0),u=k(0),g=k(""),r=k(""),d=P(()=>o.selected_users),h=P(()=>{var p;return!(((p=d.value)==null?void 0:p.user_id)??!1)||!t.value||!u.value||a.value<1||!g.value});K(a,(O,p)=>{u.value=i.value*a.value}),K(t,(O,p)=>{i.value=0,a.value=0,u.value=0,r.value="";let m=n.individual;if(!m)return;let c=m.find(w=>w.name==O);c&&(r.value=c.gift_id,i.value=c.unit_price,a.value=1,u.value=i.value*a.value)});const $=()=>{a.value+=1},b=()=>{a.value!==1&&(a.value-=1)},f=ce({gift_type:"",employees:[],gift_id:"",gift_total_price:"",gift_quantity:"",gift_note:""}),S=()=>{var p;if(h.value)return;const O=((p=d.value)==null?void 0:p.employee_id)??!1;f.gift_type="individual",f.employees=[O],f.gift_id=r.value,f.gift_total_price=u.value.toFixed(2),f.gift_note=g.value,f.gift_quantity=a.value.toFixed(2),f.post(route("Incentive_gift.store"),{onFinish:()=>f.reset(),onSuccess:()=>{l.closeModal(),De.fire({title:"hurray!",text:"Your gift has been sent",icon:"success"})}})};return q(()=>{me()}),(O,p)=>(v(),z(Te,null,{default:I(()=>[s("div",Bl,[s("div",zl,[s("div",Hl,[s("p",ql,C(x(f).errors.gift_type)+" "+C(x(f).errors.employees)+" "+C(x(f).errors.gift_total_price)+" "+C(x(f).errors.gift_quantity)+" "+C(x(f).errors.gift_note)+" "+C(x(f).errors.general),1),s("div",Kl,[s("div",null,[Wl,s("div",Ql,[s("div",Yl,[s("div",Jl,[s("p",Xl,C(d.value.user_email),1),s("p",Zl,C(d.value.positions?d.value.positions.join(", "):""),1)])])])]),s("div",es,[ts,s("div",ls,[(v(!0),_(V,null,B(n.individual,(m,c)=>(v(),_("div",{key:c,class:"w-16 h-16 hover:cursor-pointer"},[W(s("input",{type:"radio",name:m.name,value:m.name,id:m.name+c,"onUpdate:modelValue":p[0]||(p[0]=w=>t.value=w),class:"hidden"},null,8,ss),[[ae,t.value]]),s("label",{for:m.name+c},[s("div",ns,[m.name==="coffee"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[y(we)],2)):j("",!0),m.name==="cupcake"?(v(),_("div",{key:1,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[y($e)],2)):j("",!0),m.name==="flower"?(v(),_("div",{key:2,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[y(ke)],2)):j("",!0),m.name==="silver_pen"?(v(),_("div",{key:3,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[y(Se)],2)):j("",!0),s("div",is,[s("span",as,[y(te,{class:"",w_class:"w-[10px]",h_class:"h-[auto]"})]),N(" "+C(m.unit_price),1)])]),m.name==="pizza"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":t.value===m.name},"w-full hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 text-center inline-flex items-center justify-center"])},[y(re)],2)):j("",!0)],8,os)]))),128))]),t.value!==""?(v(),_("div",rs,[s("div",us,[s("div",ds,[t.value==="coffee"?(v(),_("div",cs,[y(we,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="cupcake"?(v(),_("div",fs,[y($e,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="flower"?(v(),_("div",ps,[y(ke,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="pizza"?(v(),_("div",vs,[y(re,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),t.value==="silver"?(v(),_("div",ms,[y(Se,{w_class:"w-[16px]",h_class:"h-[16px]"})])):j("",!0),N(" x "+C(a.value)+" = $"+C(u.value),1)])]),s("div",null,[s("div",gs,[s("button",{onClick:b,type:"button",class:"px-3 py-1.5 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700"},[y(Ul)]),s("button",{onClick:$,type:"button",class:"px-3 py-1.5 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700"},[y(Ml)])])]),s("div",_s,[hs,W(s("textarea",{id:"message","onUpdate:modelValue":p[1]||(p[1]=m=>g.value=m),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your note here..."},null,512),[[Ie,g.value]])])])):j("",!0)]),s("div",bs,[s("button",{onClick:U(S,["prevent"]),disabled:x(f).processing||h.value,type:"button",class:M([{"bg-gray-400 hover:cursor-not-allowed":h.value,"bg-gray-800 hover:bg-gray-500":!h.value},"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto"])}," Send gift ",10,ys),s("button",{onClick:p[2]||(p[2]=U((...m)=>x(l).closeModal&&x(l).closeModal(...m),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])])]),_:1}))}},ws={class:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"},$s={class:"pt-0 pr-4 pb-0 pl-4 mt-0 mr-auto mb-0 ml-auto w-[600px] max-w-4xl sm:px-6 lg:px-8"},ks={class:"bg-white shadow-xl mt-8 mr-0 mb-0 ml-0 pt-4 pr-10 pb-4 pl-10 flow-root rounded-lg sm:py-2"},Ss={class:"text-red-800 text-sm"},Os={class:"py-10"},Es={class:"mb-3"},Cs=s("h6",{class:"text-sm mb-2 font-bold text-gray-700"},"Receiver(s)",-1),js={key:0,class:"flex items-center space-x-2 w-full mb-4"},Ps={class:"relative p-2 bg-white rounded-lg shadow"},Ls={class:"text-xs font-semibold text-gray-900"},Rs=s("br",null,null,-1),As={class:"text-gray-600 text-xs"},Is={key:0,class:"mt-10"},Ds=s("h6",{class:"text-sm mb-2 font-bold text-gray-700"}," Pick a group gift ",-1),Ts={class:"mb-8 w-full flex align-center justify-center max-w-sm"},Ms=["name","value","id"],Vs=["for"],Fs={key:0},Ns={key:0,class:"mb-2"},Gs=s("h6",{class:"text-sm mb-2 font-bold text-gray-700"}," Select amount ",-1),Us=[Gs],Bs={key:1,class:"mb-2 text-xs"},zs={class:"font-semibold text-gray-400 float-right text-right"},Hs={class:"inline-flex items-center"},qs=s("br",null,null,-1),Ks={class:"inline-flex items-center"},Ws={class:"mx-1 inline-flex items-center"},Qs=s("div",{class:"clear-both"},null,-1),Ys={class:"inline-flex",role:"group"},Js=["name","value","id"],Xs=["for"],Zs={class:"my-6"},eo=s("label",{for:"message",class:"block mb-2"},[s("h6",{class:"mb-3 text-sm font-bold text-gray-700"}," Add a note ")],-1),to={class:"py-3 sm:flex sm:flex-row-reverse"},lo=["onClick","disabled"],so={__name:"SendGift_Group",props:{gift_type:{type:String,required:!0},allGifts:{type:Array,required:!0},allUsers:{type:Array,required:!0}},setup(e){const l=se(),o=e,n=ve({individual:[],group:[]}),t=P(()=>(n==null?void 0:n.group[0])??!1);pe(()=>{o.allGifts.length!=0&&o.allGifts.forEach(p=>{const m={name:p.icon_name,gift_name:p.name,gift_id:p.incentive_id,unit_price:p.amount_per_item};switch(p.type){case"individual":n.individual.push(m);break;case"group":n.group.push(m);break}})});const i=k(""),a=k(0),u=k(0),g=k(""),r=k(""),d=k([50,100,150,200,250]),h=k([]),$=P(()=>h.value),b=P(()=>h.value.length==0||!i.value||!u.value||!g.value),f=ce({gift_type:"",employees:[],gift_id:"",gift_total_price:"",gift_note:"",gift_price_per_employee:""}),S=()=>{if(b.value)return;const p=$.value.map(m=>(m==null?void 0:m.employee_id)??!1);f.gift_type="group",f.employees=p,f.gift_id=r.value,f.gift_total_price=u.value.toFixed(2),f.gift_note=g.value,f.gift_price_per_employee=a.value,console.log(f),f.post(route("Incentive_gift.store"),{onFinish:()=>f.reset(),onSuccess:()=>{h.value=[],l.closeModal(),De.fire({title:"hurray!",text:"Your gift has been sent",icon:"success"})}})},O=p=>{h.value=p};return K(h,p=>{var m,c;p.length>0?(i.value=((m=t.value)==null?void 0:m.name)??"",r.value=((c=t.value)==null?void 0:c.gift_id)??""):(i.value="",r.value=""),a.value=0,u.value=0,g.value=""}),K(u,p=>{$.value.length==0||p==0||(a.value=p/$.value.length,a.value=a.value.toFixed(2))}),q(()=>{me()}),(p,m)=>(v(),z(Te,null,{default:I(()=>[s("div",ws,[s("div",$s,[s("div",ks,[s("p",Ss,C(x(f).errors.gift_type)+" "+C(x(f).errors.employees)+" "+C(x(f).errors.gift_total_price)+" "+C(x(f).errors.gift_note)+" "+C(x(f).errors.general),1),s("div",Os,[s("div",Es,[Cs,y(fe,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:I(()=>[h.value.length>0?(v(),_("div",js,[(v(!0),_(V,null,B(h.value,c=>(v(),_("div",null,[s("div",Ps,[s("p",null,[s("span",Ls,C(c.user_email),1),Rs,s("span",As,C(c.positions?c.positions.join(", "):""),1)])])]))),256))])):j("",!0)]),_:1}),s("div",null,[y(Cl,{allUsers:e.allUsers,onSelectedEmployeesChanged:O},null,8,["allUsers"])])]),h.value.length>0?(v(),_("div",Is,[Ds,s("div",Ts,[s("div",null,[W(s("input",{type:"radio",name:t.value.name,value:t.value.name,id:t.value.name+t.value.gift_id,"onUpdate:modelValue":m[0]||(m[0]=c=>i.value=c),class:"hidden"},null,8,Ms),[[ae,i.value]]),s("label",{for:t.value.name+t.value.gift_id},[t.value.name==="pizza"?(v(),_("div",{key:0,class:M([{"bg-gray-300 ":i.value===t.value.name},"hover:cursor-pointer hover:bg-gray-200 shadow-md focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 mr-2 text-center inline-flex items-center"])},[y(re,{w_class:"w-[70px]",h_class:"h-[auto]"})],2)):j("",!0)],8,Vs)])]),i.value!==""?(v(),_("div",Fs,[u.value==0?(v(),_("div",Ns,Us)):(v(),_("div",Bs,[s("div",zs,[s("div",Hs,[N(" total amount: "),y(te,{class:"mx-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(C(u.value),1)]),qs,s("div",Ks,[N(" each employee receives "),s("span",Ws,[y(te,{class:"mr-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(" "+C(a.value),1)]),N(" worth of pizza slices ")])]),Qs])),s("div",null,[s("div",Ys,[(v(!0),_(V,null,B(d.value,c=>(v(),_("div",{key:c},[W(s("input",{type:"radio",name:t.value.name,value:c,id:"groupGiftsAndPrices"+c,"onUpdate:modelValue":m[1]||(m[1]=w=>u.value=w),class:"hidden"},null,8,Js),[[ae,u.value]]),s("label",{for:"groupGiftsAndPrices"+c},[s("span",{class:M([{"bg-gray-300 ":u.value===c,"bg-white ":u.value!==c},"text-gray-900 hover:bg-gray-300 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2 mb-2"])},[y(te,{class:"mr-1",w_class:"w-[20px]",h_class:"h-[auto]"}),N(" "+C(c),1)],2)],8,Xs)]))),128))])]),s("div",Zs,[eo,W(s("textarea",{id:"message","onUpdate:modelValue":m[2]||(m[2]=c=>g.value=c),rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your note here..."},null,512),[[Ie,g.value]])])])):j("",!0)])):j("",!0),s("div",to,[s("button",{onClick:U(S,["prevent"]),disabled:x(f).processing||b.value,type:"button",class:M([{"bg-gray-400 hover:cursor-not-allowed":b.value,"bg-gray-800 hover:bg-gray-500":!b.value},"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto"])}," Send gift ",10,lo),s("button",{onClick:m[3]||(m[3]=U((...c)=>x(l).closeModal&&x(l).closeModal(...c),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])])]),_:1}))}},oo={class:"flex items-center space-x-4"},no=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Employees ",-1),io={class:"py-12"},ao={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-6"},ro={key:0,class:"mb-4"},uo=s("div",{class:"clear-both"},null,-1),co={class:"mt-6 rounded-lg"},fo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},po={key:0,class:"bg-white shadow-md p-6 rounded-2xl border-2 border-gray-50"},vo={class:"flex flex-col"},mo={class:"font-bold text-center"},go={class:"my-6"},_o={class:"w-full flex flex-row space-x-4 items-center"},ho={class:"h-18 w-18 border-2 rounded-full p-3"},bo={class:"relative w-full font-semibold flex flex-col min-h-[100px] items-center justify-center"},yo={key:0},xo=s("p",{class:"ml-2 text-gray-700 text-xs"}," has no role ",-1),wo=[xo],$o={key:1},ko={class:"ml-2 text-navy-700 text-xs"},So={key:0,class:"w-full text-right border-t-2 border-gray-100 py-4 flex items-end justify-end"},Oo=s("div",null,[s("span",{class:"underline px-3 py-1.5 mr-2 text-sm font-semibold text-gray-600 transition-all duration-200 hover:text-gray-700 hover:cursor-pointer"},"add role")],-1),Eo=["onClick"],Co=["onClick"],No={__name:"index",props:{allPositions:Array,allGifts:Array,users_and_employees:Object,isEmployeeAnAttorney:Boolean},setup(e){const l=se(),o=e,n=k(""),t=k([]),i=k([]),a=ve({addRole:null}),u=P(()=>{const h=o.users_and_employees;if(a.addRole===null)return h;for(const $ in a.addRole)if(Object.hasOwnProperty.call(a.addRole,$)){const b=a.addRole[$];h[$]=b}return h}),g=async(h,$)=>{var b;try{let f=await et.post(route("employee.store"),{user_id:h,position_id:$});const S=(b=f==null?void 0:f.data)==null?void 0:b.processed_users_and_employees;a.addRole=S}catch{}},r=(h,$=[])=>{h==""&&$==[]||(n.value=h,t.value=$,l.openSendGiftModal())},d=h=>{if(h!=""){n.value=h,i.value=[];for(const $ in u.value)if(Object.hasOwnProperty.call(u.value,$)){const b=u.value[$];if(b.user_id===de().props.auth.user.user_id)continue;i.value.push(b)}l.openSendGift_GroupModal()}};return(h,$)=>(v(),_(V,null,[x(l).currentModal==="NEW_EMPLOYEE_INVITE"?(v(),z(Lt,{key:0,allPositions:e.allPositions},null,8,["allPositions"])):j("",!0),x(l).currentModal==="SEND_GIFT"?(v(),z(xs,{key:1,gift_type:n.value,allGifts:e.allGifts,selected_users:t.value},null,8,["gift_type","allGifts","selected_users"])):j("",!0),x(l).currentModal==="SendGift_Group"?(v(),z(so,{key:2,gift_type:n.value,allGifts:e.allGifts,allUsers:i.value},null,8,["gift_type","allGifts","allUsers"])):j("",!0),y(x(Xe),{title:"Employees"}),y(tt,null,{header:I(()=>[s("div",oo,[no,e.isEmployeeAnAttorney?(v(),z(be,{key:0,type:"button",class:"float-right",onClick:U(x(l).openNewEmployeeInviteModal,["prevent"])},{default:I(()=>[N("add new employee")]),_:1},8,["onClick"])):j("",!0)])]),default:I(()=>[s("div",io,[s("div",ao,[e.isEmployeeAnAttorney?(v(),_("div",ro,[y(be,{onClick:$[0]||($[0]=U(b=>d("group",[]),["prevent"])),type:"button",class:"mx-2 float-right"},{default:I(()=>[N("group gift")]),_:1}),uo])):j("",!0),s("div",co,[s("div",fo,[(v(!0),_(V,null,B(u.value,b=>(v(),_(V,{key:b.user_id},[h.$page.props.auth.user.user_id!==b.user_id?(v(),_("div",po,[s("div",vo,[s("div",null,[y(x(Ze),{href:h.route("employee.show",b.employee_id),class:"cursor-pointer text-center transition text-gray-600 hover:text-slate-400"},{default:I(()=>[s("h2",mo,C(b.user_fullname),1)]),_:2},1032,["href"])]),s("div",go,[s("div",_o,[s("div",null,[s("div",ho,[y(st)])]),s("div",null,[s("div",bo,[b.positions.length==0?(v(),_("div",yo,wo)):(v(),_("div",$o,[(v(!0),_(V,null,B(b.positions,f=>(v(),_("div",{key:f,class:"flex mb-2"},[s("div",null,[y(ft)]),s("div",ko,C(f),1)]))),128))]))])])])]),e.isEmployeeAnAttorney?(v(),_("div",So,[y(lt,null,{trigger:I(()=>[Oo]),content:I(()=>[(v(!0),_(V,null,B(e.allPositions,f=>(v(),_("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:U(S=>g(b.user_id,f.position_id),["prevent"]),key:f.position_id},C(f.position_name),9,Eo))),128))]),_:2},1024),s("button",{onClick:f=>r("individial",b),type:"button",class:"text-gray-900 hover:bg-gray-200 shadow focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg px-3 py-1.5 mr-2 text-center inline-flex items-center"},[y(ot)],8,Co)])):j("",!0)])])):j("",!0)],64))),128))])])])])]),_:1})],64))}};export{No as default};
