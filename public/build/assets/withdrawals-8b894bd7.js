import{Q as b,T as F,h as _,m as N,o as l,f as d,b as e,a as r,t as m,u as o,g as h,w as f,p as B,e as v,n as j,z as k,I as C,c as V,F as q,Z as D,d as R,l as M,j as W}from"./app-83f071d1.js";import{a as S,_ as T}from"./AuthenticatedLayout-81b00e86.js";import{_ as E}from"./PrimaryButton-14ecf0e9.js";import{u as P,i as O}from"./sweetalert2.all-816622f1.js";import{_ as z,a as U,b as Q}from"./TextInput-5b15764a.js";import{_ as I}from"./user-6db2d799.js";import"./ApplicationLogo-124b43d5.js";import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Z=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),G={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},H={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},J={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},K={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},X={class:"sm:flex sm:items-start"},Y={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10"},ee=e("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[e("h3",{class:"text-base font-semibold leading-6 text-gray-900",id:"modal-title"}," Request withdrawal "),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Please review the details below before sending the invitation. Once invited, your new employee will be granted the selected roles. This action cannot be undone! ")])],-1),te={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},se={class:"text-red-800 text-sm"},ae={id:"fundsRequestForm",class:"space-y-6",action:"#",method:"POST"},oe={class:"mt-3 text-center sm:text-left"},re=e("span",{class:"font-semibold leading-6 text-gray-400 text-sm"}," Balance (USD): ",-1),ne={class:"font-semibold leading-6 text-gray-800 text-sm ml-2"},le={key:0,class:"font-semibold leading-6 text-red-800 text-sm mt-2"},ie={class:"mt-2"},de=e("div",null,null,-1),ce={class:"flex items-center gap-4"},ue={key:0,class:"text-sm text-gray-600"},me={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},_e=["onClick","disabled"],fe={__name:"RequestFunds",props:{allPositions:Array},setup(w){const x=b().props.auth.user,u=b().props.userBalance,p=P(),s=F({amount:"",request_sent_by:x.user_id}),c=_(()=>!(!s.amount||Number(s.amount)<0||Number(s.amount)>u)),y=()=>{if(s.processing||!c)return;(document.querySelector("#fundsRequestForm")??!1)&&s.post(route("withdrawal_requests.store"),{onSuccess:()=>{}})};return N(()=>{O()}),(g,t)=>(l(),d("div",L,[Z,e("div",G,[e("div",H,[e("div",J,[e("div",K,[e("div",X,[e("div",Y,[r(S)]),ee]),e("div",te,[e("p",se,m(o(s).errors.amount)+" "+m(o(s).errors.general),1),e("form",ae,[e("div",oe,[re,e("span",ne,m(g.$page.props.userBalance),1),c.value?h("",!0):(l(),d("div",le," Please enter a valid amount "))]),e("div",null,[r(z,{class:"block text-sm font-medium leading-6 text-gray-900",for:"Amount",value:"Amount"}),e("div",ie,[r(U,{id:"Amount",type:"number",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",modelValue:o(s).amount,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).amount=a),required:""},null,8,["modelValue"])]),r(Q,{class:"mt-2",message:o(s).errors.amount},null,8,["message"])]),de,e("div",ce,[r(B,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:f(()=>[o(s).recentlySuccessful?(l(),d("p",ue," Request sent ")):h("",!0)]),_:1})])])])]),e("div",me,[e("button",{onClick:v(y,["prevent"]),disabled:!c.value||o(s).processing,type:"button",class:j(["inline-flex w-full justify-center rounded-md bg-gray-800 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 sm:ml-3 sm:w-auto",{"hover:cursor-not-allowed":!c.value||o(s).processing}])}," Send request ",10,_e),e("button",{onClick:t[1]||(t[1]=v((...a)=>o(p).closeModal&&o(p).closeModal(...a),["prevent"])),type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"}," Cancel ")])])])])]))}};const he=e("div",{class:"flex items-center space-x-4"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Withdrawals ")],-1),xe={class:"my-16"},pe={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-14"},ge={key:0,class:"mb-4"},ye=e("div",{class:"clear-both"},null,-1),be={class:"rounded-lg"},ve={key:0,class:"grid grid-cols-1 gap-4"},we={class:"rounded-xl border p-5 shadow-md w-10/12 bg-white"},$e={class:"flex w-full items-center justify-between mb-6"},ke={class:"flex items-center space-x-3"},qe={class:"h-8 w-8 rounded-full flex items-center justify-center shadow-lg"},Re={class:"text-lg font-bold text-slate-700"},je={class:"flex items-center justify-center space-x-4"},Se={class:"text-base text-neutral-500 inline-flex items-center"},Pe={class:"flex items-center justify-between text-slate-500"},Ae={class:"flex space-x-4 md:space-x-8"},Fe=e("span",{class:"middle none center rounded-lg border border-cyan-800 py-1.5 px-3 font-sans text-xs font-bold uppercase text-cyan-500 transition-all hover:opacity-75 focus:ring focus:ring-cyan-200 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-dark":"true"}," View transaction ",-1),Ne={class:"my-8"},Be={class:"flex float-right"},Ce=["href"],Ve=["href"],De=e("div",{class:"clear-both"},null,-1),Ie={__name:"withdrawals",props:{allWithdrawals:Object},setup(w){const x=P(),u=w,p=b().props.isEmployeeAnAttorney;k(""),k([]);const s=C({addRole:null});_(()=>{const t=u.users_and_employees;if(s.addRole===null)return t;for(const a in s.addRole)if(Object.hasOwnProperty.call(s.addRole,a)){const i=s.addRole[a];t[a]=i}return t});const c=_(()=>{var t;return((t=u.allWithdrawals)==null?void 0:t.data)??[]}),y=_(()=>{var a;let t=((a=u.allWithdrawals)==null?void 0:a.links)??!1;return t&&(t=t.find(i=>i.label=="Next &raquo;")),t}),g=_(()=>{var a;let t=((a=u.allWithdrawals)==null?void 0:a.links)??!1;return t&&(t=t.find(i=>i.label=="&laquo; Previous")),t});return(t,a)=>(l(),d(q,null,[o(x).currentModal==="REQUEST_FUNDS"?(l(),V(fe,{key:0})):h("",!0),r(o(D),{title:"Withdrawals"}),r(T,null,{header:f(()=>[he]),default:f(()=>{var i,$;return[e("div",xe,[e("div",pe,[o(p)?h("",!0):(l(),d("div",ge,[r(E,{onClick:a[0]||(a[0]=v(n=>o(x).openRequestFundsModal(),["prevent"])),type:"button",class:"mx-2 float-right"},{default:f(()=>[R("request funds")]),_:1}),ye])),e("div",be,[c.value.length>0?(l(),d("div",ve,[(l(!0),d(q,null,M(c.value,(n,A)=>(l(),d("div",{class:"flex items-center justify-center mb-4",key:A},[e("div",we,[e("div",$e,[e("div",ke,[e("div",qe,[r(I,{w_class:"w-5",h_class:"h-5"})]),e("div",Re,m(n.user_email),1)]),e("div",je,[e("div",Se,[r(S,{class:"mr-1"}),R(" "+m(n.withdrawal_request_amount),1)]),e("div",{class:j(["rounded-2xl border bg-neutral-100 px-2 py-1 text-xs font-semibold uppercase",{"text-amber-500":n.withdrawal_request_status=="pending","text-red-700":n.withdrawal_request_status=="failed"||n.withdrawal_request_status=="rejected","text-green-700":n.withdrawal_request_status=="success"}])},m(n.withdrawal_request_status),3)])]),e("div",null,[e("div",Pe,[e("div",Ae,[r(o(W),{href:t.route("withdrawal_requests.show",n.withdrawal_request_link_id),class:"flex cursor-pointer items-center transition hover:text-slate-600"},{default:f(()=>[Fe]),_:2},1032,["href"])])])])])]))),128))])):h("",!0),e("div",Ne,[e("div",Be,[e("a",{href:((i=g.value)==null?void 0:i.url)??"#",class:"flex items-center justify-center px-4 h-10 text-base font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Previous ",8,Ce),e("a",{href:(($=y.value)==null?void 0:$.url)??"#",class:"flex items-center justify-center px-4 h-10 ms-3 text-base font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Next ",8,Ve)]),De])])])])]}),_:1})],64))}};export{Ie as default};
